{"meta":{"title":"å‡Œäº‘çš„ä¸ªäººåšå®¢","subtitle":null,"description":"å‡Œäº‘çš„åšå®¢","author":"å‡Œäº‘","url":"http://www.shifeiqi.top","root":"/"},"pages":[{"title":"","date":"2019-03-02T07:11:15.458Z","updated":"2019-03-02T07:11:15.458Z","comments":false,"path":"categories/index.html","permalink":"http://www.shifeiqi.top/categories/index.html","excerpt":"","text":""},{"title":"","date":"2019-03-02T07:10:51.430Z","updated":"2019-03-02T07:10:51.430Z","comments":false,"path":"tags/index.html","permalink":"http://www.shifeiqi.top/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Hello World","slug":"hello-world","date":"2019-03-02T06:59:01.674Z","updated":"2019-03-02T06:59:01.674Z","comments":true,"path":"2019/03/02/hello-world/","link":"","permalink":"http://www.shifeiqi.top/2019/03/02/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]},{"title":"å¿«é€Ÿæ’åº","slug":"2021-01-31-å¿«é€Ÿæ’åº","date":"2019-02-11T08:29:00.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2019/02/11/2021-01-31-å¿«é€Ÿæ’åº/","link":"","permalink":"http://www.shifeiqi.top/2019/02/11/2021-01-31-å¿«é€Ÿæ’åº/","excerpt":"","text":"ğŸ¶ åŸç† å¿«é€Ÿæ’åºå±äºäº¤æ¢æ’åºçš„ä¸€ç§ï¼Œä½¿ç”¨åˆ†æ²»ç­–ç•¥æŠŠä¸€ä¸ªåºåˆ—åˆ†ä¸ºä¸¤ä¸ªå­åºåˆ—ï¼Œæ€è·¯å¦‚ä¸‹ï¼š åŸºå‡†&lt;pivot&gt;é€‰å–,ä»å¾…æ’åºåºåˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¹‹ä¸ºâ€åŸºå‡†â€(pivot)ï¼Œä¸€èˆ¬é€‰æ‹©é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æˆ–è€…æœ€åä¸€ä¸ªå…ƒç´ ã€‚ åˆ†å‰²&lt;partition&gt;æ“ä½œ, æ‰€æœ‰æ¯”åŸºå‡†å°çš„å…ƒç´ éƒ½è¢«äº¤æ¢åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å¤§çš„å…ƒç´ éƒ½è¢«äº¤æ¢åˆ°åŸºå‡†åé¢ï¼Œåˆ†å‰²ç»“æŸä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚ é€’å½’åœ°å¯¹å°äºåŸºå‡†å€¼å…ƒç´ çš„å­åºåˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­åºåˆ—æ’åºè¿›è¡Œå¿«é€Ÿæ’åº. ğŸ° ç¤ºä¾‹ä»¥ä¸‹ç¤ºä¾‹æ¨¡æ‹Ÿå¯¹ [1, 6, 2, 8, 4, 3, 7, 9, 5] è¿›è¡Œå¿«é€Ÿæ’åºè¿‡ç¨‹, åŸºå‡†é€‰æ‹©å¾…æ’åºåˆ—çš„æœ€åä¸€ä¸ªå€¼. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556570x00 [1, 6, 2, 8, 4, 3, 7, 9, 5] ^pivot // é˜Ÿåˆ—[1,6,2,8,4,3,7,9,5]é€‰å–åŸºå‡†5,è¿›è¡Œç¬¬ä¸€æ¬¡é€’å½’åˆ†å‰²----------------------------------------------------------------------------------------0x01 [----æ¯”5å°-----] [----æ¯”5å¤§-----] [1, 3, 2, 4, &lt;5&gt;, 8, 7, 9, 6] // ç¬¬ä¸€æ¬¡é€’å½’åˆ†å‰²ç»“æŸ,è·å¾—ä¸¤ä¸ªå­é˜Ÿåˆ— // é˜Ÿåˆ—[1,6,2,8,4,3,7,9,5]è¢«åŸºå‡†5åˆ†å‰²ä¸º[1,3,2,4]å’Œ[8,7,9,6]----------------------------------------------------------------------------------------0x10 [ ] [ ] [1, 3, 2, 4, &lt;5&gt;, 8, 7, 9, 6] ^pivot ^pivot // å¯¹å¾…åˆ†å‰²å­é˜Ÿåˆ—[1,3,2,4]é€‰å–åŸºå‡†4,è¿›å…¥ç¬¬äºŒæ¬¡é€’å½’åˆ†å‰², // å¯¹å¾…åˆ†å‰²å­é˜Ÿåˆ—[8,7,9,6]é€‰å–åŸºå‡†6,è¿›å…¥ç¬¬äºŒæ¬¡é€’å½’åˆ†å‰²----------------------------------------------------------------------------------------0x11 [--æ¯”4å°--] [] [] [--æ¯”6å¤§---] [1, 3, 2, &lt;4&gt;, &lt;5&gt;, &lt;6&gt;, 7, 9, 8] // ç¬¬äºŒæ¬¡é€’å½’åˆ†å‰²ç»“æŸ,è·å¾—å››ä¸ªå­é˜Ÿåˆ— // [1,3,2,4]è¢«4åˆ†å‰²ä¸º [1,3,2] å’Œ [] // [8,7,9,6]è¢«6åˆ†å‰²ä¸º [] å’Œ [7,9,6]----------------------------------------------------------------------------------------0x20 [ ] [] [] [ ] [1, 3, 2, &lt;4&gt;, &lt;5&gt;, &lt;6&gt;, 7, 9, 8] ^pivot ^pivot // å­é˜Ÿåˆ—[1,3,2]é€‰å–åŸºå‡†2,è¿›å…¥ç¬¬ä¸‰æ¬¡é€’å½’åˆ†å‰² // å­é˜Ÿåˆ—[7,9,8]é€‰å–åŸºå‡†8,è¿›å…¥ç¬¬ä¸‰æ¬¡é€’å½’åˆ†å‰² // []ä¸åšå¤„ç†----------------------------------------------------------------------------------------0x21 [-] [-] [-] [-] [1, &lt;2&gt;, 3, &lt;4&gt;, &lt;5&gt;, &lt;6&gt;, 7, &lt;8&gt;, 9] // ç¬¬ä¸‰æ¬¡é€’å½’åˆ†å‰²ç»“æŸ,è·å–4ä¸ªå­é˜Ÿåˆ— // [1,3,2]è¢«3åˆ†å‰²ä¸º[1]å’Œ[3] // [7,9,8]è¢«8åˆ†å‰²ä¸º[7]å’Œ[9]----------------------------------------------------------------------------------------0x30 [-] [-] [-] [-] [1, &lt;2&gt;, 3, &lt;4&gt;, &lt;5&gt;, &lt;6&gt;, 7, &lt;8&gt;, 9] ^pivot ^pivot ^pivot ^pivot // å­é˜Ÿåˆ—[1] [3] [7] [9] éƒ½åªåŒ…å«ä¸€ä¸ªåŸºå‡†å…ƒç´ ,ç›´æ¥è¿”å›.----------------------------------------------------------------------------------------0x31 [&lt;1&gt;, &lt;2&gt;, &lt;3&gt;, &lt;4&gt;, &lt;5&gt;, &lt;6&gt;, &lt;7&gt;, &lt;8&gt;, &lt;9&gt;] // è·å¾—æ’å¥½é˜Ÿåˆ— ğŸ— å®ç° Java é€’å½’å®ç° 12345678910111213141516171819202122232425262728293031323334353637383940// swap funcprivate void swap(int[] array, int lIndex, int rIndex) &#123; int tmp = array[lIndex]; array[lIndex] = array[rIndex]; array[rIndex] = tmp;&#125;// partition funcprivate int partition(int[] array, int left, int right) &#123; // é€‰å–åŸºå‡† int pivot = array[right]; int sIndex = right; // åˆ†å‰² while(left &lt; right) &#123; while(array[left] &lt;= pivot &amp;&amp; left &lt; right) left ++; swap(array, left, sIndex); sIndex = left; // -- while(array[right] &gt;= pivot &amp;&amp; left &lt; right) right --; swap(array, sIndex, right); sIndex = right; &#125; return sIndex;&#125;// quick sort, recursively funcprivate void quickSort(int[] array, int left, int right) &#123; if(left &gt;= right) return; int parIndex = partition(array, left, right); // é€’å½’ quickSort(array, left, parIndex - 1); quickSort(array, parIndex + 1, right);&#125;// sort interfacepublic int[] sort(int[] nums) &#123; int[] array = Arrays.copyOf(nums, nums.length); quickSort(array, 0, array.length - 1); return array;&#125; JavaScript é€’å½’å®ç° 123456789101112131415161718192021222324252627282930313233343536373839// swap funcconst swap = (array, lIndex, rIndex) =&gt; &#123; const tmp = array[lIndex]; array[lIndex] = array[rIndex]; array[rIndex] = tmp;&#125;// partition funcconst partition = (array, left, right) =&gt; &#123; // é€‰æ‹©åŸºå‡† const pivot = array[right]; let sIndex = right; // åˆ†å‰² while(left &lt; right) &#123; while(array[left] &lt;= pivot &amp;&amp; left &lt; right) left++; swap(array, left, sIndex); sIndex = left; // while(array[right] &gt;= pivot &amp;&amp; left &lt; right) right--; swap(array, sIndex, right); sIndex = right; &#125; return sIndex;&#125;// quick sort, recursively funcconst quickSort = (array, left, right) =&gt; &#123; if(left &gt;= right) return; const parIndex = partition(array, left, right); quickSort(array, left, parIndex - 1); quickSort(array, parIndex + 1, right);&#125;// sort interface funcconst sort = (nums) =&gt; &#123; const array = nums.slice(); quickSort(array, 0, array.length - 1); return array;&#125;","categories":[{"name":"2019","slug":"2019","permalink":"http://www.shifeiqi.top/categories/2019/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://www.shifeiqi.top/tags/ç®—æ³•/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://www.shifeiqi.top/tags/æ•°æ®ç»“æ„/"}]},{"title":"å†’æ³¡æ’åº","slug":"2020-01-31-å†’æ³¡æ’åº","date":"2019-02-11T07:58:00.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2019/02/11/2020-01-31-å†’æ³¡æ’åº/","link":"","permalink":"http://www.shifeiqi.top/2019/02/11/2020-01-31-å†’æ³¡æ’åº/","excerpt":"","text":"ğŸ’£ åŸç† å†’æ³¡æ’åºåŸºæœ¬æ€æƒ³ï¼š å°†å¾…æ’åºé˜Ÿåˆ—åˆ†ä¸ºæœªæ’åºå­é˜Ÿåˆ—ï¼ˆä½äºå·¦ä¾§ï¼Œåˆå§‹å€¼ä¸ºå¾…æ’åºé˜Ÿåˆ—ï¼‰å’Œå·²æ’åºå­é˜Ÿåˆ—ï¼ˆä½äºå³ä¾§ï¼Œåˆå§‹å€¼ä¸ºç©ºï¼‰ã€‚ èµ°è®¿æœªæ’åºå­é˜Ÿåˆ—ï¼Œé€‰æ‹©æœªæ’åºå­é˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼äº¤æ¢åˆ°æœªæ’åºå­é˜Ÿåˆ—çš„åˆ—å°¾ã€‚ æœªæ’åºå­é˜Ÿåˆ—é•¿åº¦å‡ä¸€ï¼Œ å·²æ’åºå­é˜Ÿåˆ—é•¿åº¦åŠ ä¸€ã€‚ æœªæ’åºå­é˜Ÿåˆ—é•¿åº¦ == 0 ? æ’åºç»“æŸ ï¼š é‡å¤ç¬¬2æ­¥ã€‚ æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)ã€‚ ç¨³å®šã€‚ ğŸ”« ç¤ºä¾‹ ä»¥ä¸‹æ˜¯å¯¹é˜Ÿåˆ— [4, 2, 3, 6, 8, 1, 5] è¿›è¡Œå†’æ³¡æ’åºçš„æ¨¡æ‹Ÿè¿‡ç¨‹ï¼ˆæ³¨ï¼šç®—æ³•æŠ½è±¡è¿‡ç¨‹æè¿°ï¼Œéç¨‹åºè¿è¡Œè¿‡ç¨‹ï¼‰ã€‚1234567891011121314151617181920212223242526272829300 [4, 2, 3, 6, 8, 1, 5 ] [ æœªæ’åºå­é˜Ÿåˆ— ] [å·²æ’åºå­é˜Ÿåˆ—] // å°†å¾…æ’åºé˜Ÿåˆ—åˆ†ä¸º [æœªæ’åºå­é˜Ÿåˆ—] å’Œ [å·²æ’åºå­é˜Ÿåˆ—]------------------------------------------------------------------------------------1 [4, 2, 3, 6, 1, 5, 8] [ æœªæ’åºå­é˜Ÿåˆ— ] [å·²æ’åºå­é˜Ÿåˆ—] //ç¬¬1æ¬¡èµ°è®¿ï¼Œ //é€‰å–å½“å‰æœªæ’åºå­é˜Ÿåˆ—ä¸­æœ€å¤§å€¼8å†’æ³¡åˆ°æœ€å------------------------------------------------------------------------------------2 [4, 2, 3, 1, 5, 6, 8] [ æœªæ’åºå­é˜Ÿåˆ— ] [å·²æ’åºå­é˜Ÿåˆ—] //ç¬¬2æ¬¡èµ°è®¿ï¼Œ //é€‰å–å½“å‰æœªæ’åºå­é˜Ÿåˆ—ä¸­æœ€å¤§å€¼6å†’æ³¡åˆ°æœ€å------------------------------------------------------------------------------------3 [4, 2, 3, 1, 5, 6, 8] [ æœªæ’åºå­é˜Ÿåˆ— ] [å·²æ’åºå­é˜Ÿåˆ—] //ç¬¬3æ¬¡èµ°è®¿ï¼Œ //é€‰å–å½“å‰æœªæ’åºå­é˜Ÿåˆ—ä¸­æœ€å¤§å€¼5å†’æ³¡åˆ°æœ€å------------------------------------------------------------------------------------4 [ 2, 3, 1, 4, 5, 6, 8] [ æœªæ’åºå­é˜Ÿåˆ— ] [å·²æ’åºå­é˜Ÿåˆ—] //ç¬¬4æ¬¡èµ°è®¿ï¼Œ //é€‰å–å½“å‰æœªæ’åºå­é˜Ÿåˆ—ä¸­æœ€å¤§å€¼4å†’æ³¡åˆ°æœ€å------------------------------------------------------------------------------------5 [ 2, 1, 3, 4, 5, 6, 8] [ æœªæ’åºå­é˜Ÿåˆ— ] [å·²æ’åºå­é˜Ÿåˆ—] //ç¬¬5æ¬¡èµ°è®¿ï¼Œ //é€‰å–å½“å‰æœªæ’åºå­é˜Ÿåˆ—ä¸­æœ€å¤§å€¼3å†’æ³¡åˆ°æœ€å------------------------------------------------------------------------------------ 6 [ 1, 2, 3, 4, 5, 6, 8] [ æœªæ’åºå­é˜Ÿåˆ— ] [å·²æ’åºå­é˜Ÿåˆ—] //ç¬¬6æ¬¡èµ°è®¿ï¼Œ //é€‰å–å½“å‰æœªæ’åºå­é˜Ÿåˆ—ä¸­æœ€å¤§å€¼2å†’æ³¡åˆ°æœ€å------------------------------------------------------------------------------------ 7 [ 1, 2, 3, 4, 5, 6, 8] [ æœªæ’åºå­é˜Ÿåˆ— ] [å·²æ’åºå­é˜Ÿåˆ—] //ç¬¬7æ¬¡èµ°è®¿ï¼Œ //é€‰å–å½“å‰æœªæ’åºå­é˜Ÿåˆ—ä¸­æœ€å¤§å€¼1å†’æ³¡åˆ°æœ€å ğŸ”ª ç®—æ³•å®ç° Javaå®ç° 123456789101112131415161718// swapprivate void swap(int[] array, int lIndex, int rIndex) &#123; int tmp = array[lIndex]; array[lIndex] = array[rIndex]; array[rIndex] = tmp;&#125;// sort interfacepublic int[] bubbleSort(int[] nums) &#123; int[] array = Arrays.copyOf(nums, nums.length); // bubble sort for (int i = 0; i &lt; array.length; i++) &#123; for (int j = 0; j &lt; array.length - i - 1; j++) &#123; if (array[j] &gt; array[j + 1]) swap(array, j, j + 1); &#125; &#125; return array;&#125; JavaScriptå®ç° 1234567891011121314151617// swapconst swap = (array, lIndex, rIndex) =&gt; &#123; const tmp = array[lIndex]; array[lIndex] = array[rIndex]; array[rIndex] = tmp;&#125;// sort interfaceconst bubbleSort = nums =&gt; &#123; const array = nums.slice(); // bubble sort for(let i = 0; i &lt; array.length; i++) &#123; for(let j = 0; j &lt; array.length - i - 1; j++) if(array[j] &gt; array[j + 1]) swap(array, j, j + 1); &#125; return array;&#125;","categories":[{"name":"2019","slug":"2019","permalink":"http://www.shifeiqi.top/categories/2019/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://www.shifeiqi.top/tags/ç®—æ³•/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://www.shifeiqi.top/tags/æ•°æ®ç»“æ„/"}]},{"title":"å†™åœ¨2019","slug":"2019-01-31-å†™åœ¨2019","date":"2019-01-31T08:21:00.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2019/01/31/2019-01-31-å†™åœ¨2019/","link":"","permalink":"http://www.shifeiqi.top/2019/01/31/2019-01-31-å†™åœ¨2019/","excerpt":"","text":"è¿˜æœ‰ä¸€ä¸ªå°æ—¶å°±è¦ä¸‹ç­äº†ï¼Œå¯¹ç€ç”µè„‘å¤§çœ¼çªå°å±å·²ç»ä¸€ä¸‹åˆï¼Œä»€ä¹ˆä¹Ÿæ²¡çœ‹ä¸‹å»ï¼Œä»€ä¹ˆä¹Ÿæ²¡å†™å‡ºæ¥ã€‚ç´¢æ€§è¶ç€è¿™ä¸€ä¸ªå°æ—¶ï¼Œå†™ç‚¹2019å¹´è¦å¹²çš„äº‹å§ã€‚æƒ³æƒ³2018å¹´éƒ½å·²ç»è¿‡å»äº†ï¼Œå¥½çš„åçš„éƒ½æ¥è¿‡ï¼Œè¯¥æƒ³èµ·è¯¥å¿˜è®°çš„è¿˜æ˜¯é‚£ä¸ªæ ·å­ï¼Œç´¢æ€§å°±è®©è¿™ä¸ªæœ¬å‘½å¹´å°±è¿™æ ·è¿‡å»å§ï¼Œå¹´ç»ˆæ€»ç»“å°±ä¸å†™äº†ã€‚éšæ‰‹å†™çš„éšç¬”ï¼Œæ ¼å¼å°±ä¸é‚£ä¹ˆä¸¥æ ¼äº†ã€‚ 2019å·²ç»è¿‡å»ä¸€ä¸ªæœˆäº†ï¼Œè¿˜æœ‰11ä¸ªæœˆï¼Œæ—¶é—´è¿˜æ˜¯æŒºæ¼«é•¿çš„ï¼Œè€Œæˆ‘åˆæ˜¯ä¸ªæ€¥æ€§å­ï¼Œè®¡åˆ’ä¸€å¹´çš„äº‹æƒ…æœ‰ç‚¹éš¾ä¸ºã€‚å€’ä¸æ˜¯è¯´æˆ‘åšä¸åˆ°ï¼Œè€Œæ˜¯æƒ³æƒ³ä¸€å¹´è¦åšçš„äº‹æƒ…è‚¯å®šæœ‰å¥½å¤šï¼Œå®¹æ˜“è®©äººç„¦è™‘ã€‚ç´¢æ€§å…ˆåˆ—å‡ºå‰åŠå¹´çš„è®¡åˆ’ï¼Œç­‰åˆ°ä»Šå¹´6æœˆä»½å†å‡ºä¸‹åŠå¹´çš„è®¡åˆ’ï¼Œåº”è¯¥æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ã€‚ 1. ç²¾ç¥æ··è›‹1.1 çœ‹ä¹¦æ€»ä¹‹å°±çœ‹ä¹¦å§ï¼Œä¹¦å•æˆ‘æ²¡æœ‰æƒ³è¿‡ï¼Œæ‘¸åˆ°å“ªæœ¬çœ‹å“ªæœ¬å§ã€‚çœ‹æˆ‘é‚£æœ¬è¿˜å‰©ä¸‹ä¸‰åˆ†ä¹‹äºŒçš„ã€Šç™¾å¹´å­¤ç‹¬ã€‹ï¼›çœ‹é‚£æœ¬å–äº†å¥½ä¹…åªç¿»è¿‡ç¬¬ä¸€é¡µçš„ã€Šæµæµªåœ°çƒã€‹ï¼›çœ‹é‚£æœ¬å¿ƒå¿ƒå¿µå¿µä½†æ˜¯ä¸€ç›´æ²¡æœ‰ä¹°çš„ã€Šäººç±»ç®€å²ã€‹ï¼›ç”šè‡³äºè¯´çœ‹é‚£ä¸€å¥—å¿µå¨äº†å¥½ä¹…çš„ã€Šå†°ä¸ç«ä¹‹æ­Œã€‹ã€‚æ€»ä¹‹å°±æ˜¯çœ‹ä¹¦å§ã€‚ 1.2 åˆ·å‰§æ•´ä¸ª18å¹´éƒ½æ²¡æœ‰å¥½å¥½åœ°çœ‹è¿‡ä¸€æ•´éƒ¨ï¼Œä¸ŠåŠå¹´æ‰“ç®—æŠŠã€Šå†°ä¸ç«ä¹‹æ­Œã€‹æˆ–è€…ã€Šå¤ºå‘½æ¯’å¸ˆã€‹æˆ–è€…ã€Šè¶Šç‹±ã€‹é‡æ–°çœ‹ä¸€éã€‚è¿™æ¬¡è¦çœ‹å…¨è‹±æ–‡ç‰ˆçš„ã€‚ 2. æŠ€æœ¯å…¥å‰ç«¯å‘åº”è¯¥å·²ç»æœ‰å¤§åŠå¹´äº†ï¼Œæ€»è§‰å¾—å‰ç«¯æ˜¯ä¸€å—åˆšåˆšå¼€å¦çš„åœ°ï¼Œéœ€è¦æ–°çš„æ‹–æ‹‰æœºã€‚2019å¹´ä¸ŠåŠå¹´çš„ç²¾åŠ›ä¸»è¦ä¼šé›†ä¸­åœ¨å‰ç«¯é¢†åŸŸï¼Œæ›´åŠ æ·±å…¥åœ°å–äº†è§£å­¦ä¹ å‰ç«¯ã€‚ 2.1 å‡½æ•°å¼ç¼–ç¨‹ä¸ä»…ä»…æ˜¯å­¦ä¹ å¦‚ä½•åœ¨JavaScriptä¸­ä½¿ç”¨è¿™ä¸ªæ¨¡å¼ï¼Œè€Œæ˜¯è¦æ·±å…¥å­¦ä¹ è¿™ç§æ€æƒ³ï¼Œæœ‰å¿…è¦çš„è¯å¯èƒ½ä¼šä¸Š haskell å’Œã€ŠèŒƒç•´è®ºã€‹ã€‚ 2.2 ç¼–è¯‘åŸç†é‡æ–°æ¸©ä¹ ç¼–è¯‘åŸç†å§ï¼Œç®—æ˜¯ä¸ºæ·±å…¥äº†è§£å‰ç«¯åº•å±‚æ‰“ä¸ªåŸºç¡€å•¥çš„ã€‚ã€Šé¾™ä¹¦ã€‹å’Œçº¢çš®ä¹¦è¦çœ‹å®Œã€‚ 2.3 æœºå™¨å­¦ä¹ ä¸ŠåŠå¹´åº”è¯¥ä¼šåœ¨æœºå™¨å­¦ä¹ æ–¹é¢å…¥ä¸ªé—¨ï¼Œæ¯•ç«Ÿè¿™ä¹ˆç«çš„æŠ€æœ¯ä¸äº†è§£ä»¥ä¸‹å®åœ¨æ˜¯å¯æƒœäº†ã€‚è¿™ä¸ªä¸œè¥¿åº”è¯¥æ˜¯ä¼šå’Œæˆ‘çš„è€ä¼™è®¡ä¸€å—å­¦ã€‚ 2.4å†™åšå®¢å’Œåšå¼€æºè¿™ä¸ªæ²¡å•¥å¥½è¯´çš„ï¼Œshow code &amp; pub blog å§ã€‚ 3. èº«ä½“èº«ä½“çœŸçš„å¾ˆé‡è¦ï¼Œ2018å¹´æœ‰ä¸€æ®µæ—¶é—´æ™šä¸Šç¡è§‰ä¹‹å‰æˆ‘éƒ½åœ¨æƒ³ç¬¬äºŒå¤©è¿˜èƒ½ä¸èƒ½é†’è¿‡æ¥ã€‚ä»Šå¹´ä¸ŠåŠå¹´çš„å¹²çš„äº‹å°±ä»æœ€ç®€å•çš„è·‘æ­¥å¼€å§‹å§ï¼Œå—¯è¿˜è¦å¢é‡ï¼Œå¤ªç˜¦äº†èµ°è·¯éƒ½æ²¡æœ‰å®‰å…¨æ„Ÿã€‚æŒ‰æ—¶åƒé¥­ï¼ŒæŒ‰æ—¶ç¡è§‰ã€‚ 4. å…¶ä»–ä¸ŠåŠå¹´å¯èƒ½ä¼šå‡ºå»èµ°ä¸€è¶Ÿï¼Œæœ‰å¯èƒ½æ˜¯åŒ—äº¬ï¼Œæœ‰å¯èƒ½æ˜¯é•¿ä¸‰è§’ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ·±åœ³ã€‚æˆ–è€…æ˜¯æµ·å—å’Œæˆéƒ½ï¼Œç”šè‡³æ˜¯è¥¿è—ã€‚ç›®å‰è¿˜ä¸ç¡®å®šï¼Œåˆ°æ—¶å€™å†è¯´å§ã€‚ å°±åˆ°è¿™å§ã€‚ :)","categories":[{"name":"2019","slug":"2019","permalink":"http://www.shifeiqi.top/categories/2019/"}],"tags":[{"name":"æ—¥å¿—","slug":"æ—¥å¿—","permalink":"http://www.shifeiqi.top/tags/æ—¥å¿—/"}]},{"title":"ä»£ç†æ¨¡å¼","slug":"2018-10-16-ä»£ç†æ¨¡å¼","date":"2018-10-16T07:36:00.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2018/10/16/2018-10-16-ä»£ç†æ¨¡å¼/","link":"","permalink":"http://www.shifeiqi.top/2018/10/16/2018-10-16-ä»£ç†æ¨¡å¼/","excerpt":"","text":"ä»£ç†æ¨¡å¼æ¦‚è¿°ä»£ç†æ¨¡å¼ä½œä¸ºä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯GoFæ‰€æçš„23ä¸­è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œåœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­å¤§é‡è¢«ä½¿ç”¨(è¿œç¨‹ä»£ç†ã€AOPç­‰ç­‰)ã€‚æœ¬ç« å°†å¯¹ä»£ç†æ¨¡å¼çš„åŸç†åŠè®¾è®¡æ€æƒ³è¿›è¡Œä»‹ç»ã€‚ ä»£ç†æ¨¡å¼å®šä¹‰Provide a surrogate or placeholder for another object to control access to it.ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†å¯¹è±¡ç”¨æ¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ ä»£ç†æ¨¡å¼ç®€ä»‹å¼€å§‹ä»‹ç»ä»£ç†æ¨¡å¼ä¹‹å‰è¯»è€…éœ€è¦ç†Ÿæ‚‰ä»¥ä¸‹æ¦‚å¿µï¼š ä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰ï¼šç”¨æ¥ä»£ç†çœŸå®å¯¹è±¡ï¼Œå¯¹çœŸå®å¯¹è±¡çš„æ¥å£è¿›è¡Œè®¿é—®æ§åˆ¶ã€‚ çœŸå®å¯¹è±¡ï¼ˆRealSubjectï¼‰ï¼šè¢«ä»£ç†å¯¹è±¡ï¼ŒçœŸæ­£å¯¹å¤–æä¾›ä¸šåŠ¡æ¥å£çš„å¯¹è±¡ã€‚ ä»£ç†æ¨¡å¼çš„è®¾è®¡æ€è·¯æ˜¯åœ¨è®¿é—®è€…å’ŒçœŸå®å¯¹è±¡ä¹‹é—´æä¾›ä¸€ä¸ªä¸­é—´å±‚ï¼ˆä»£ç†å¯¹è±¡ï¼‰ï¼Œç”¨æ¥å¯¹çœŸå®å¯¹è±¡çš„ä¸šåŠ¡æ¥å£è¿›è¡ŒåŒ…è£…ã€‚åŸºäºè¿™ä¸ªåŸç†ï¼Œä»£ç†å¯¹è±¡åœ¨å¯¹çœŸå®å¯¹è±¡çš„ä¸šåŠ¡æ¥å£è¿›è¡ŒåŒ…è£…çš„æ—¶å€™å¯ä»¥æä¾›é¢å¤–çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šè°ƒç”¨è€…çš„è®¿é—®æƒé™æ§åˆ¶ï¼Œæ—¥å¿—è®°å½•ç­‰ç­‰ã€‚ proxy-pattern-01 ä»£ç†æ¨¡å¼åˆ†ç±»æŒ‰ç…§ä»£ç†å¯¹è±¡çš„ç±»æ¨¡æ¿çš„åˆ›å»ºæ—¶æœºï¼Œä»£ç†æ¨¡å¼å¯ä»¥åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ã€‚ é™æ€ä»£ç†å®šä¹‰é™æ€ä»£ç†æ˜¯æŒ‡ç”¨äºåˆ›å»ºä»£ç†å¯¹è±¡çš„ç±»æ¨¡æ¿åœ¨ç¼–è¯‘æœŸä¹‹å‰åˆ›å»ºçš„ï¼Œè¯´çš„é€šä¿—ä¸€ç‚¹ï¼Œç”¨äºåˆ›å»ºä»£ç†å¯¹è±¡çš„ç±»æ¨¡æ¿æ˜¯ç”±å¼€å‘è€…æ‰‹åŠ¨ç¼–å†™çš„ã€‚ï¼ˆæ³¨ï¼šç¬”è€…ä»¥ä¸ºé™æ€ä»£ç†å«åšé™æ€æ¨¡æ¿ä»£ç†æ›´å®¹æ˜“ç†è§£ä¸€äº›ï¼‰ é€šç”¨è®¾è®¡æœ¬å°èŠ‚å°†ä»‹ç»ä¸€ä¸ªæ¯”è¾ƒé€šç”¨çš„é™æ€ä»£ç†å®ç°æ–¹å¼ã€‚ ç±»å›¾ å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142/** * ä¸šåŠ¡æ¥å£ */interface Subject &#123; void doSomething();&#125;/** * çœŸå®ç±»æ¨¡æ¿ */class RealSubject implements Subject &#123; public void doSomething() &#123; System.out.println(\"real subject : do something!\"); &#125;&#125;/** * ä»£ç†ç±»æ¨¡æ¿ */class Proxy implements Subject &#123; // çœŸå®å¯¹è±¡ private Subject subject; // ä»£ç†å¯¹è±¡å¯é€šè¿‡ICOå®¹å™¨æ³¨å…¥ç­‰é…åˆä½¿ç”¨ public Proxy(Subject subject) &#123; this.subject = subject; &#125; // ä»£ç†æ–¹æ³• public void doSomething() &#123; System.out.println(\"proxy subject : before do\"); subject.doSomething(); System.out.println(\"proxy subject : after do\"); &#125;&#125;/** * æ¨¡æ‹Ÿå®¢æˆ·ç«¯ */public class Client &#123; public static void main(String[] args) &#123; // åˆ›å»ºä»£ç†å¯¹è±¡ Subject proxy = new Proxy(new RealSubject()); // è°ƒç”¨ä»£ç†æ–¹æ³• proxy.doSomething(); &#125;&#125; åŠ¨æ€ä»£ç†å®šä¹‰åŠ¨æ€ä»£ç†æ˜¯æŒ‡ç”¨äºåˆ›å»ºä»£ç†å¯¹è±¡çš„ç±»æ¨¡æ¿æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´åŠ¨æ€ç”Ÿæˆçš„ï¼Œä½¿ç”¨åŠ¨æ€ä»£ç†å¯ä»¥é¿å…é™æ€ä»£ç†å­˜åœ¨çš„ä¸€äº›é—®é¢˜ã€‚ ç¤ºä¾‹è¿™é‡Œä½¿ç”¨JavaåŠ¨æ€ä»£ç†çš„å®˜æ–¹æ•™ç¨‹æ¥åšæ¼”ç¤ºã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556/** * æœåŠ¡æ¥å£ */interface Subject &#123; Object doSomething(Object obj) throws Exception;&#125;/** * çœŸå®ç±»æ¨¡æ¿ */class RealSubject implements Subject &#123; @Override public Object doSomething(Object obj) throws Exception &#123; System.out.println(\"real subject : do something !\"); return new Object(); &#125;&#125;/** * åŠ¨æ€ä»£ç†ç±»ï¼Œé‡å†™ &#123;@link java.lang.reflect.InvocationHandler#invoke(Object, Method, Object[])&#125; * å¯¹çœŸå®å¯¹è±¡çš„æ¯ä¸€ä¸ªæœåŠ¡æ¥å£è¿›è¡ŒåŒ…è£… * * @see java.lang.reflect.InvocationHandler */class Proxy implements java.lang.reflect.InvocationHandler &#123; // real subject private Object subject; // constructor public Proxy(Object subject) &#123; this.subject = subject; &#125; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; System.out.println(\"proxy subject : before\"); Object result = method.invoke(subject, args); System.out.println(\"proxy subject : after\"); return result; &#125; /** * åˆ›å»ºä»£ç†å¯¹è±¡ */ public static Object newInstance(Object subject) &#123; return java.lang.reflect.Proxy.newProxyInstance( subject.getClass().getClassLoader(), subject.getClass().getInterfaces(), new Proxy(subject) ); &#125;&#125;/** * æ¨¡æ‹Ÿå®¢æˆ·ç«¯ */public class Client &#123; public static void main(String[] args) throws Exception&#123; Subject proxy = (Subject) Proxy.newInstance(new RealSubject()); proxy.doSomething(null); &#125;&#125; å‚è€ƒèµ„æ–™ Proxy Design Pattern java-design-pattern ä»£ç†æ¨¡å¼ è®¾è®¡æ¨¡å¼ä¹‹ç¦… Dynamic Proxy Classes","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/è®¾è®¡æ¨¡å¼/"},{"name":"ä»£ç†æ¨¡å¼","slug":"ä»£ç†æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/ä»£ç†æ¨¡å¼/"},{"name":"Proxy","slug":"Proxy","permalink":"http://www.shifeiqi.top/tags/Proxy/"}]},{"title":"æ§åˆ¶åè½¬(IOC)","slug":"2018-08-26-æ§åˆ¶åè½¬(IOC)","date":"2018-08-26T06:28:00.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2018/08/26/2018-08-26-æ§åˆ¶åè½¬(IOC)/","link":"","permalink":"http://www.shifeiqi.top/2018/08/26/2018-08-26-æ§åˆ¶åè½¬(IOC)/","excerpt":"","text":"å†™åœ¨å‰é¢åç«¯åº”ç”¨ç¨‹åºæ¶æ„å¼€å‘ä¸­ï¼ŒSpringæ˜¯ä¸€ä¸ªä¸å¾—ä¸è¿ˆè¿‡å»çš„é—¨æ§›ã€‚è€Œå¯¹äºå­¦ä¹ å’Œä½¿ç”¨Springï¼ŒIOCåˆæ˜¯ä¸€ä¸ªä¸å¾—ä¸è¿ˆè¿‡å»çš„é—¨æ§›ã€‚ åœ¨æ­¤å…ˆç®€å•è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ä¾èµ–ï¼š ä¾èµ–æ˜¯ä»€ä¹ˆï¼Ÿè¿™é‡Œæ‰€è§£é‡Šçš„ä¾èµ–æ˜¯ä¸€ä¸ªæ³›åŒ–çš„æ¦‚å¿µï¼Œå³è¡¨ç¤ºä¸€ä¸ªç±»ä¾èµ–äºå¦å¤–ä¸€ä¸ªç±»çš„å®šä¹‰ã€‚ä¾èµ–å¯¹åº”Javaç±»ä¸­çš„æˆå‘˜å˜é‡ï¼Œå±€éƒ¨å˜é‡ï¼Œå‚æ•°ç­‰ç­‰ã€‚å¯¹åº”çš„è½¯ä»¶å·¥ç¨‹ä¸­çš„ç±»å›¾å¦‚ä¸‹ï¼š dependency-example å…¶ä¸­ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„å®ç°ï¼š12345class A &#123; // Bç§°ä¹‹ä¸ºAçš„ä¾èµ– private B b;&#125;class B&#123;&#125; æ— IOCæ¶æ„ç°åœ¨å‡è®¾æˆ‘ä»¬è¦ä»å¤´å¼€å§‹æ¶æ„ä¸€ä¸ªåº”ç”¨ç³»ç»ŸAppï¼Œå› ä¸ºä¸šåŠ¡éœ€è¦ä½¿ç”¨äº†åº•å±‚æ¡†æ¶ç»„ä»¶A(ä¸‰æ–¹jaræˆ–è€…åº•å±‚æ¡†æ¶æ¨¡å—)ï¼Œé‚£ä¹ˆä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š dependency-normal ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒAppä¸ä»…ä¾èµ–ç»„ä»¶æ¥å£Aï¼Œè€Œä¸”æ¥å£Açš„å®ç°AImplç”±åº”ç”¨ç¨‹åºåˆ›å»ºã€‚æ ¹æ®è¯¥æ¶æ„å›¾å®Œæˆçš„ç¼–ç å¦‚ä¸‹:12345678910111213// Aæ¥å£ï¼Œä¸ºç»„ä»¶åˆ¶å®šè§„èŒƒinterface A &#123;&#125;// å…·ä½“å®ç°ç±»class AImpl implements A&#123;&#125;// åº”ç”¨ç¨‹åºclass App &#123; private A a; public App() &#123; a = new AImpl(); &#125;&#125; ç°åœ¨è€ƒè™‘è¿™ä¹ˆä¸¤ç§æƒ…å†µï¼š åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‘ç°ç»„ä»¶çš„å®ç°AImplä¸èƒ½æ»¡è¶³ç°æœ‰çš„ä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦å°†å…¶æ¢æˆAçš„å¦ä¸€ä¸ªå®ç°ç±»AImplForNormalã€‚ è¯¥ç³»ç»Ÿéœ€è¦åœ¨å±±ä¸œå’Œå±±è¥¿åœ°åŒºåŒæ—¶ä¸Šçº¿ï¼Œä½†æ˜¯æ ¹æ®éœ€æ±‚éœ€è¦åœ¨å±±ä¸œä½¿ç”¨ç»„ä»¶Açš„å®ç°ç±»AImplForSDï¼Œåœ¨å±±è¥¿éœ€è¦ä½¿ç”¨ç»„ä»¶çš„å®ç°ç±»AImplForSXã€‚ è§£å†³ç¬¬ä¸€ç§æƒ…å†µçš„æœ€ç¬¨åŠæ³•å°±æ˜¯å°†åº”ç”¨ç¨‹åºAppä¸­æ‰€æœ‰å…³äºAçš„åˆ›å»ºè¯­å¥æ›´æ”¹ä¸ºA a = new AImplForNormal();ï¼Œä½†æ˜¯å¦‚æœè¿™æ ·çš„è¯­å¥æœ‰æˆåƒä¸Šä¸‡æ¡ï¼Œè¿™å¿…ç„¶ä¸æ˜¯ä¸€ä¸ªå¥½æ–¹æ³•ã€‚è§£å†³ç¬¬äºŒç§æƒ…å†µå¤§çº¦æœ‰è¿™ä¹ˆä¸¤ç§ç¬¨æ–¹æ³•: åœ¨ç»„ä»¶Açš„èµ‹å€¼è¯­å¥ä¸­æ·»åŠ åœ°åŒºåˆ¤æ–­ï¼Œæˆ–è€…ä¸ºå±±ä¸œå’Œå±±è¥¿åœ°åŒºå†™ä¸¤å¥—Appç³»ç»Ÿä»£ç ï¼Œä½†è¿™æ— ç–‘éƒ½æ˜¯é¦Šä¸»æ„ã€‚ å…¶å®ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜å½’æ ¹ç»“åº•åªæ˜¯ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•åŠ¨æ€åœ°åˆ›å»ºAppæ‰€ä¾èµ–çš„ ç»„ä»¶Açš„å­ç±»ã€‚å³å¦‚ä½•åœ¨åº”ç”¨ç¨‹åºè¿è¡ŒæœŸé—´é€‰æ‹©æ€§åœ°å»åˆ›å»ºç»„ä»¶ä¾èµ–å¯¹è±¡ï¼Œè®©è¢«ä¾èµ–å¯¹è±¡èƒ½å¤Ÿåƒæ’ä»¶ä¸€æ ·æ ¹æ®é…ç½®æ¥è¿›è¡Œæ’æ‹”å¤„ç†ã€‚ IOCæ¶æ„ç°åœ¨æˆ‘ä»¬æ ¹æ®å¼•å…¥IOCï¼Œæ¥é‡æ–°æ¶æ„åº”ç”¨ç³»ç»ŸAppã€‚ ioc-normal å¯ä»¥çœ‹å‡ºï¼Œåº”ç”¨ç¨‹åºä»…ä»…ä¾èµ–æ¥å£å’ŒIOCå®¹å™¨ï¼Œè€Œç»„ä»¶æ¥å£Açš„å®ç°ç±»ç”±IOCå®¹å™¨æ ¹æ®é…ç½®æœ‰é€‰æ‹©åœ°åˆ›å»ºã€‚æ ¹æ®è¯¥æ¶æ„å®Œæˆçš„ç¼–ç å¦‚ä¸‹:12345678910111213141516171819202122232425// Aæ¥å£ï¼Œä¸ºç»„ä»¶åˆ¶å®šè§„èŒƒinterface A &#123;&#125;// å…·ä½“å®ç°ç±»class AImpl implements A&#123;&#125;class AImplForNormal implements A&#123;&#125;class AImplForSD implements A&#123;&#125;class AImplForSX implements A&#123;&#125;// IOCå®¹å™¨ç±»static class IOCContainer &#123; public static A getA() throws Exception &#123; // è¯»å–åº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶,å‡è®¾è¯»å–åˆ°çš„é…ç½®ä¿¡æ¯æ˜¯ com.cloudups.AImplForNormal String className = \"com.cloudups.AImplForNormal\"; return (A) Class.forName(className).newInstance(); &#125;&#125;// åº”ç”¨ç¨‹åºclass App &#123; private A a; public App() &#123; try&#123; a = IOCContainer.getA(); &#125;catch (Exception e) &#123; &#125; &#125;&#125; ç”±ä¸Šè¿°ç¼–ç å’Œæ¶æ„å›¾å¯ä»¥çœ‹å‡ºï¼Œç»„ä»¶æ¥å£Açš„å®ä¾‹å¯¹è±¡å¯ä»¥ç”±IOCå®¹å™¨åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ ¹æ®é…ç½®æ–‡ä»¶æœ‰é€‰æ‹©åœ°è¿›è¡Œåˆ›å»ºï¼Œæ‰€ä»¥å¯¹äºä¸Šæ–‡ä¸­çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®Açš„å®ç°ç±»AImplFornormalå³å¯ï¼›è€Œå¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œåˆ™åœ¨å±±ä¸œåœ°åŒºéƒ¨ç½²çš„æ—¶å€™ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­Açš„å®ç°ç±»ä¸ºAImplForSDï¼Œåœ¨å±±è¥¿éƒ¨ç½²çš„æ—¶å€™ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­Açš„å®ç°ç±»ä¸ºAImplForSXå³å¯ã€‚ å¼•å…¥IOCå®¹å™¨ä¹‹åçš„æ¶æ„æ¨¡å¼å¯ä»¥è§£å†³ä¸€ä¸ªå¾ˆæ£˜æ‰‹çš„é—®é¢˜ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ ¹æ®é…ç½®æœ‰é€‰æ‹©åœ°åˆ›å»ºç»„ä»¶çš„å­å¯¹è±¡ã€‚å³å°†å¯¹è±¡çš„åˆ›å»ºæƒäº¤ç»™å®¹å™¨&lt;æ¡†æ¶&gt;æ¥å®Œæˆï¼Œè€Œä¸æ˜¯ç”±åº”ç”¨ç¨‹åºæ¥åˆ›å»ºå¯¹è±¡ã€‚è¿™å°±æ˜¯æ‰€è°“çš„æ§åˆ¶åè½¬&lt;IOC&gt;ã€‚` å‚è€ƒèµ„æ–™ Inversion of Control Containers and the Dependency Injection pattern æ§åˆ¶åè½¬å’Œä¾èµ–æ³¨å…¥-ä¸­æ–‡ç¿»è¯‘","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"æ§åˆ¶åè½¬","slug":"æ§åˆ¶åè½¬","permalink":"http://www.shifeiqi.top/tags/æ§åˆ¶åè½¬/"},{"name":"IOC","slug":"IOC","permalink":"http://www.shifeiqi.top/tags/IOC/"}]},{"title":"Java-for-each-åŸºç¡€","slug":"2018-08-21-Java-for-each-åŸºç¡€","date":"2018-08-21T13:55:00.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2018/08/21/2018-08-21-Java-for-each-åŸºç¡€/","link":"","permalink":"http://www.shifeiqi.top/2018/08/21/2018-08-21-Java-for-each-åŸºç¡€/","excerpt":"","text":"å†™åœ¨å‰é¢for-each loopæ˜¯JDK1.5å¢åŠ çš„ç‰¹æ€§ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†æ›´ä¼˜é›…ç®€æ´åœ°è¿­ä»£æ•°ç»„æˆ–è€…é›†åˆã€‚for-each çš„æ„æ€æ˜¯æŒ‡ for each item in containerï¼ˆæ²¡æƒ³åˆ°å¥½çš„ç¿»è¯‘ï¼‰ã€‚ åŸºæœ¬ä½¿ç”¨for-each ç»“æ„ä¸€èˆ¬ç”¨æ¥è¿­ä»£ æ•°ç»„ã€å®¹å™¨ã€Iterableæ¥å£çš„å­ç±»ï¼Œä¸€èˆ¬for-eachç»“æ„å¦‚ä¸‹ï¼š123for(Object item : items) &#123; // do something for item&#125; è¿­ä»£æ•°ç»„ 1234String[] items = &#123;\"apple\", \"orange\", \"banana\"&#125;;for(String item : items) &#123; System.out.println(item);&#125; è¿­ä»£å®¹å™¨ 1234List&lt;String&gt; items = Arrays.asList(\"apple\", \"orange\", \"banana\");for(String item : items) &#123; System.out.println(item);&#125; è¿­ä»£Iterableæ¥å£çš„å­ç±»JDK1.5 è§„å®šå‡¡æ˜¯å®ç°äº†Iterableæ¥å£çš„ç±»éƒ½å¯ä»¥ç”¨for-eachè¿›è¡Œè¿­ä»£ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839static class IContainer implements Iterable&lt;String&gt; &#123; // å­å…ƒç´ é›†åˆ private List&lt;String&gt; items; // æ„é€ æ–¹æ³• public IContainer() &#123; items = new ArrayList&lt;&gt;(); &#125; // å¢åŠ å…ƒç´  public boolean add(String item) &#123; return items.add(item); &#125; // é‡å†™Iterableæ¥å£æ–¹æ³• @Override public Iterator&lt;String&gt; iterator() &#123; return new Iterator&lt;String&gt;() &#123; private int index = 0; @Override public boolean hasNext() &#123; return index &lt; IContainer.this.items.size(); &#125; @Override public String next() &#123; return IContainer.this.items.get(index++); &#125; &#125;; &#125;&#125;// æµ‹è¯•ä»£ç  public static void main(String[] args) &#123; // åˆå§‹åŒ–å®¹å™¨ IContainer iContainer = new IContainer(); iContainer.add(\"apple\"); iContainer.add(\"orange\"); iContainer.add(\"banana\"); // for-eachè¿­ä»£å®¹å™¨ for(String item : iContainer) &#123; System.out.println(item); &#125; &#125; æ³¨æ„ï¼šç”¨for-eachè¿­ä»£å®¹å™¨å’Œè¿­ä»£Iterableå­ç±»æ˜¯ä¸€ä¸ªåŸç†ï¼Œå› ä¸ºå®¹å™¨ç±»å®ç°äº†æ¥å£Iterableã€‚ åŸç†for-eachç»“æ„åœ¨ç¼–è¯‘æœŸé—´ä¼šè¢«ç¼–è¯‘å™¨è¿›è¡Œå¤„ç†ï¼Œæœ€ç»ˆè¢«æ›¿æ¢ä¸ºçœŸæ­£çš„è¿­ä»£ç»“æ„ï¼Œä»¥ä¸‹å°†ä»¥æ•°ç»„å’Œå®¹å™¨è¯´æ˜for-eachåŸç†ã€‚ for-eachè¿­ä»£æ•°ç»„åŸç†ç¼–è¯‘å™¨ä¼šæ ¹æ®æ•°ç»„ä¸‹æ ‡å°†for-eachç»“æ„ä¼˜åŒ–ä¸ºçœŸæ­£çš„éå†ç»“æ„ï¼Œå¦‚ä¸‹ï¼šå¼€å‘äººå‘˜çš„for-eachä»£ç ï¼š 123456789101112 String[] items = &#123;\"apple\", \"orange\", \"banana\"&#125;; for(String item : items) &#123; System.out.println(item); &#125;``` ç»è¿‡ç¼–è¯‘å™¨ä¼˜åŒ–åçš„ä»£ç : ```java String[] items = &#123;\"apple\", \"orange\", \"banana\"&#125;; for(int i = 0 ; i &lt; items.length; i++) &#123; String item = items[i]; System.out.println(item); &#125; for-each è¿­ä»£å®¹å™¨åŸç†ç¼–è¯‘å™¨ä¼šä½¿ç”¨å®¹å™¨çš„è¿­ä»£å™¨ï¼ˆIteratorï¼‰å¯¹å®¹å™¨è¿­ä»£è¿›è¡Œå¤„ç†ã€‚å¦‚ä¸‹ï¼šå¼€å‘äººå‘˜çš„for-eachä»£ç  1234List&lt;String&gt; items = Arrays.asList(\"apple\", \"orange\", \"banana\");for(String item : items) &#123; System.out.println(item);&#125; ç»è¿‡ç¼–è¯‘å™¨ä¼˜åŒ–åçš„ä»£ç ï¼š12345List&lt;String&gt; items = Arrays.asList(\"apple\", \"orange\", \"banana\");for(Iterator&lt;String&gt; iterator = items.iterator(); iterator.hasNext(); ) &#123; String item = iterator.next(); System.out.println(item);&#125; Iterableæ¥å£è¯¦è§£JDK1.5è§„å®šï¼Œå‡¡æ˜¯å®ç°äº†Iterableæ¥å£çš„å­ç±»å‡å¯ä»¥ä½¿ç”¨for-eachç»“æ„æ¥è¿›è¡Œè¿­ä»£ï¼Œä¸‹å›¾ä¸ºIterableæ¥å£ç±»å›¾ï¼š Iterableæ¥å£å…±ä¸‰ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­ï¼š iterator(): Iterator&lt;T&gt;: è·å–è¿­ä»£å™¨ã€‚ forEach(Consumer&lt;? super T&gt;): void: éå†å®¹å™¨ï¼ˆJDK1.8æ–°å¢ï¼‰ã€‚ spliterator(): Spliterator&lt;T&gt;: è·å–å¯åˆ†è£‚è¿­ä»£å™¨(JDK1.8æ–°å¢)ã€‚ ä¼˜åŠ£äº‹ç‰©æ€»æœ‰æ­£åä¸¤é¢ï¼Œfor-eachä¹Ÿä¸ä¾‹å¤–ã€‚ ä¼˜åŠ¿ ä»£ç æ›´ä¼˜é›…ç®€æ´ å‡å°‘æ‰‹åŠ¨éå†å‘ç”Ÿçš„é€»è¾‘é”™è¯¯ã€‚ åŠ£å¤„ ä¸èƒ½æ›´æ–°å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œä¸èƒ½åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´  åªèƒ½ä¸²è¡Œæ“ä½œï¼Œä¸èƒ½ç”¨äºå¹¶è¡Œæ“ä½œã€‚ å‚è€ƒ The For-Each Loop Interface Iterable","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"for-each","slug":"for-each","permalink":"http://www.shifeiqi.top/tags/for-each/"},{"name":"åŸºç¡€","slug":"åŸºç¡€","permalink":"http://www.shifeiqi.top/tags/åŸºç¡€/"}]},{"title":"Javaé›†åˆæ¡†æ¶åˆ†æ-Collection","slug":"2018-08-20-Javaé›†åˆæ¡†æ¶åˆ†æ-Collection","date":"2018-08-20T13:55:00.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2018/08/20/2018-08-20-Javaé›†åˆæ¡†æ¶åˆ†æ-Collection/","link":"","permalink":"http://www.shifeiqi.top/2018/08/20/2018-08-20-Javaé›†åˆæ¡†æ¶åˆ†æ-Collection/","excerpt":"","text":"å†™åœ¨å‰é¢Collection æ¥å£æ˜¯collection ç»§æ‰¿æ ‘çš„é¡¶çº§æ¥å£ï¼Œå®ƒå®šä¹‰äº†ä¸€ç³»åˆ—çš„å•å…ƒç´ å®¹å™¨æ“ä½œçš„è§„èŒƒã€‚è¿™äº›è§„èŒƒå¤§è‡´å¯ä»¥åˆ†ä¸ºå››ç±»ï¼šæ•°æ®å¢åŠ ã€æ•°æ®åˆ é™¤ã€æ•°æ®æŸ¥æ‰¾ã€å…¶ä»–ã€‚ URMä¾‹è¡Œå¾€äº‹ï¼Œå…ˆä¸Šç±»å›¾: å…¶ä¸­ï¼ŒCollectionæ¥å£ç»§æ‰¿æ¥å£Iterableï¼Œè¡¨ç¤ºCollectionå…è®¸ä½¿ç”¨for-eachç»“æ„è¿›è¡Œè¿­ä»£éå†ã€‚Collectionæ¥å£æ‰€å®šä¹‰è§„èŒƒè§£é‡Šå¦‚ä¸‹ï¼š æ•°æ®å¢åŠ  æ•°æ®åˆ é™¤ æ•°æ®æŸ¥æ‰¾ å…¶ä»–","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"é›†åˆæ¡†æ¶","slug":"é›†åˆæ¡†æ¶","permalink":"http://www.shifeiqi.top/tags/é›†åˆæ¡†æ¶/"},{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"http://www.shifeiqi.top/tags/æºç åˆ†æ/"},{"name":"Collection","slug":"Collection","permalink":"http://www.shifeiqi.top/tags/Collection/"}]},{"title":"Javaé›†åˆæ¡†æ¶åˆ†æ-Map","slug":"2018-08-19-Javaé›†åˆæ¡†æ¶åˆ†æ-Map","date":"2018-08-19T13:55:00.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2018/08/19/2018-08-19-Javaé›†åˆæ¡†æ¶åˆ†æ-Map/","link":"","permalink":"http://www.shifeiqi.top/2018/08/19/2018-08-19-Javaé›†åˆæ¡†æ¶åˆ†æ-Map/","excerpt":"","text":"å†™åœ¨å‰é¢å…³äºJavaé›†åˆæ¡†æ¶(Java Collections Framework)ï¼Œ æœ¬åº”è¯¥æ—©å°±åŠ¨ç¬”æ€»ç»“äº†ï¼Œå¥ˆä½•å·²ç»è¢«æˆ‘å……åˆ†é‡è§†ä½†è¿˜æ˜¯ä¸å¤Ÿè¶³å¤Ÿé‡è§†çš„Javaé›†åˆæ¡†æ¶ç‰µæ¶‰çš„çŸ¥è¯†ç‚¹å¤ªå¤šï¼ŒåŠ ä¹‹JDK 1.8å¼•å…¥çš„å‡½æ•°å¼å¯¼è‡´ç¬”è€…åˆä¸€æ¬¡æ·±é™·æŠ€æœ¯ç ”ç©¶å¤šæ—¥ã€‚ URMä¾‹è¡Œå¾€äº‹ï¼Œå…ˆä¸Šç±»å›¾ã€‚ java-design-pattern-iterator ä»¥ä¸Šç±»å›¾æ ¹æ®JDK1.8æºç ç»˜åˆ¶ï¼Œè¯¥ç±»å›¾ä¸ºå…·ä½“å®ç°&lt;HashMapã€TreeMapç­‰&gt;åˆ¶å®šäº†ä¸€ä»½é€šç”¨è§„èŒƒã€‚è¯¥è§„èŒƒä¸»è¦æœ‰ä»¥ä¸‹ï¼š å®šä¹‰äº†é”®å€¼å¯¹å­˜å‚¨ç»“æ„åŠæ“ä½œè§„èŒƒ(å†…éƒ¨æ¥å£Entry)ã€‚ å®šä¹‰äº†é”®å€¼å¯¹å®¹å™¨æ“ä½œè§„èŒƒ(Map)ã€‚ Entryæ¥å£åˆ†æMapä½œä¸ºé”®å€¼å¯¹å®¹å™¨ï¼Œ ä½¿ç”¨æ•°æ®ç»“æ„Entryæ¥æè¿°é”®å€¼å¯¹ã€‚æ¥å£Mapçš„å†…éƒ¨æ¥å£Entryå®šä¹‰äº†é€šç”¨é”®å€¼å¯¹å¯¹å¤–æ¥å£è§„èŒƒã€‚å¦‚ä¸‹ï¼š getKey() : K : è·å–é”®ã€‚ getValue() : V : è·å–å€¼ã€‚ setValue(V) : V : è®¾ç½®å€¼ï¼Œè¿”å›æ—§å€¼ã€‚ comparingByKey() : Comparator&lt;Entry&lt;K, V&gt;&gt; : è·å–æ¯”è¾ƒå™¨Comparatorï¼ˆä¾èµ–é”®æ¯”è¾ƒï¼‰ã€‚ comparingByValue() : Comparator&lt;Entry&lt;K, V&gt;&gt; : è·å–æ¯”è¾ƒå™¨Comparator(ä¾èµ–å€¼æ¯”è¾ƒ)ã€‚ comparingByKey(Comparator&lt;? super K&gt;) : Comparator&lt;Entry&lt;K, V&gt;&gt; : è·å–æ¯”è¾ƒå™¨(ä½¿ç”¨è‡ªå®šä¹‰é”®æ¯”è¾ƒå™¨)ã€‚ comparingByValue(Comparator&lt;? super V&gt;) : Comparator&lt;Entry&lt;K, V&gt;&gt; : è·å–æ¯”è¾ƒå™¨(ä½¿ç”¨è‡ªå®šä¹‰å€¼æ¯”è¾ƒå™¨)ã€‚ Mapæ¥å£åˆ†æMapæ—¢ç„¶ä½œä¸ºé›†åˆå®¹å™¨ï¼Œå…¶æä¾›çš„åŠŸèƒ½æ— å¤–ä¹å°±æ˜¯åƒå¹´ä¸å˜çš„æ•°æ®æ“ä½œåŠŸèƒ½ï¼šå¢åŠ æ•°æ®ã€åˆ é™¤æ•°æ®ã€æŸ¥æ‰¾æ•°æ®ã€æ›´æ–°æ•°æ®ã€‚ Mapå®šä¹‰çš„æ•°æ®å¢åŠ æ¥å£å¦‚ä¸‹ï¼š put(K, V) : V : å°†ä¸€é˜Ÿé”®å€¼å¯¹æ”¾å…¥å®¹å™¨ï¼Œè‹¥å­˜åœ¨keyï¼Œåˆ™æ›´æ–°å®¹å™¨ä¸­çš„value putAll(Map&lt;? extends K, ? extends V&gt;) : void : å°†é”®å€¼å¯¹é›†åˆæ”¾å…¥å®¹å™¨ putAbsent(K, V) : V : è‹¥å®¹å™¨ä¸­ä¸å­˜åœ¨keyï¼Œåˆ™å°†è¯¥é”®å€¼å¯¹æ”¾å…¥å®¹å™¨ä¸­ computeIfAbsent(K, Function&lt;? super K, ? extends V&gt;) : V : è‹¥å®¹å™¨ä¸­ä¸å­˜åœ¨keyï¼Œåˆ™å°†æ ¹æ®keyè®¡ç®—å‡ºçš„valueæ”¾å…¥å®¹å™¨ä¸­ã€‚Functionä¸ºå‡½æ•°æ¥å£ï¼Œç”¨æ¥è®¡ç®—valueã€‚ computeIfPresent(K, BiFunction&lt;? super K, ? super V, ? extends V&gt;) : V : è‹¥å®¹å™¨ä¸­å­˜åœ¨keyï¼Œåˆ™å°†æ ¹æ®keyå’ŒoldValueè®¡ç®—å‡ºçš„valueæ”¾å…¥å®¹å™¨ä¸­ã€‚BiFunctionä¸ºå‡½æ•°æ¥å£ï¼Œç”¨æ¥è®¡ç®—valueã€‚ compute(K, BiFunction&lt;? super K, ? super V, ? extends V&gt;) : V : ä¸ç®¡å®¹å™¨ä¸­å­˜ä¸å­˜åœ¨keyï¼Œéƒ½å°†æ ¹æ®keyå’ŒoldValueï¼ˆæˆ–è€…nullï¼‰è®¡ç®—å‡ºæ¥çš„valueæ”¾å…¥å®¹å™¨ã€‚BiFunctionä¸ºå‡½æ•°æ¥å£ï¼Œç”¨æ¥è®¡ç®—valueã€‚ merge(K, V, BiFunction&lt;? super V, ? super V, ? extends V&gt;) : V : å°†oldValueä¸valueè®¡ç®—å¾—åˆ°çš„newValueæ”¾å…¥å®¹å™¨ã€‚BiFunctionä¸ºå‡½æ•°æ¥å£,ç”¨æ¥è®¡ç®—newValueã€‚ Mapå®šä¹‰çš„æ•°æ®åˆ é™¤æ¥å£å¦‚ä¸‹ï¼š remove(Object) : V : åˆ é™¤æŒ‡å®škeyå¯¹åº”çš„é”®å€¼å¯¹ã€‚ remove(Object, Object) : boolean : åˆ é™¤æŒ‡å®škeyå’Œvalueå¯¹åº”çš„é”®å€¼å¯¹ã€‚ clear() : void : æ¸…ç©ºå®¹å™¨ã€‚ Mapå®šä¹‰çš„æ•°æ®æŸ¥è¯¢æ¥å£å¦‚ä¸‹: get(Object) : V : è·å–keyå¯¹åº”çš„valueã€‚ getOrDefault(Object, V) : V : è·å–keyå¯¹åº”çš„valueï¼Œè‹¥å®¹å™¨ä¸­ä¸å­˜åœ¨è¯¥é”®å€¼å¯¹åˆ™è¿”å›é»˜è®¤å€¼ã€‚ keySet() : Set&lt;K&gt; : è¿”å›å®¹å™¨ä¸­æ‰€æœ‰çš„keyã€‚ values() : Collection&lt;V&gt; : è¿”å›å®¹å™¨ä¸­æ‰€æœ‰çš„valueã€‚ entrySet() : Set&lt;Entry&lt;K, V&gt;&gt; : è¿”å›å®¹å™¨ä¸­æ‰€æœ‰çš„é”®å€¼å¯¹(Entry&lt;K,V&gt;)ã€‚ containsKey(Object) : boolean : æŸ¥è¯¢å®¹å™¨æ˜¯å¦åŒ…å«æŒ‡å®šçš„keyã€‚ containsValue(Object) : boolean : æŸ¥è¯¢å®¹å™¨ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„valueã€‚ Mapå®šä¹‰çš„æ•°æ®ä¿®æ”¹æ¥å£å¦‚ä¸‹ï¼š replace(K, V) : V : è‹¥å®¹å™¨ä¸­å­˜åœ¨keyï¼Œåˆ™æ›¿æ¢keyå¯¹åº”çš„valueã€‚ replace(K, V, V) : V : æ›¿æ¢å®¹å™¨ä¸­æŒ‡å®šçš„keyå’Œvalueå¯¹åº”çš„valueã€‚ replaceAll(BiFunction&lt;? super K, ? super V, ? extends V&gt;) : éå†å®¹å™¨ï¼Œä½¿ç”¨å‡½æ•°æ¥å£BiFunctionå»æ›¿æ¢é”®å€¼å¯¹ã€‚ Mapå®šä¹‰çš„å…¶ä»–æ¥å£: size() : int : è¿”å›å®¹å™¨å½“å‰å®¹é‡ã€‚ isEmpty() : boolean : æŸ¥è¯¢å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚ hashCode() : int : è¿”å›å®¹å™¨å“ˆå¸Œã€‚ equals(Object) : boolean : æ¯”å¯¹æ–¹æ³•ã€‚ forEach(BiConsumer&lt;? super K, ? super V&gt;) : void : éå†å®¹å™¨ï¼Œä½¿ç”¨å›è°ƒå‡½æ•°BiConsumerå¤„ç†æ¯ä¸€å¯¹é”®å€¼å¯¹ã€‚ å‚è€ƒèµ„æ–™ JDKæºç ","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"é›†åˆæ¡†æ¶","slug":"é›†åˆæ¡†æ¶","permalink":"http://www.shifeiqi.top/tags/é›†åˆæ¡†æ¶/"},{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"http://www.shifeiqi.top/tags/æºç åˆ†æ/"},{"name":"Map","slug":"Map","permalink":"http://www.shifeiqi.top/tags/Map/"}]},{"title":"è®¾è®¡æ¨¡å¼-è¿­ä»£å™¨æ¨¡å¼","slug":"2018-08-16-è®¾è®¡æ¨¡å¼-è¿­ä»£å™¨æ¨¡å¼","date":"2018-08-16T13:55:00.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2018/08/16/2018-08-16-è®¾è®¡æ¨¡å¼-è¿­ä»£å™¨æ¨¡å¼/","link":"","permalink":"http://www.shifeiqi.top/2018/08/16/2018-08-16-è®¾è®¡æ¨¡å¼-è¿­ä»£å™¨æ¨¡å¼/","excerpt":"","text":"å†™åœ¨å‰é¢å°æ‰“å°é—¹äº†ä¸€å¹´ï¼Œæœ€è¿‘æ‰“ç®—å¥½å¥½å†™ç‚¹ä¸œè¥¿äº†ã€‚ å®šä¹‰Provide a way to access the elements of an aggregate object sequentially without exposing itsunderlying representation.æä¾›ä¸€ç§é¡ºåºè®¿é—®å®¹å™¨å…ƒç´ çš„æ–¹æ³•ï¼Œè€Œåˆæ— éœ€æš´éœ²å®¹å™¨çš„å†…éƒ¨å®ç°ç»†èŠ‚ã€‚ URMç±»å›¾è¿™é‡Œä»¥Javaæºç ä¸­çš„è¿­ä»£å™¨ä¸ºä¾‹ã€‚ å®ç°1234567891011121314151617181920212223242526272829// è¿­ä»£å™¨æ¥å£interface Iterator&lt;E&gt; &#123; boolean hasNext(); E next();&#125;// è¿­ä»£å™¨æ ‡å¿—æ¥å£interface Iterable&lt;T&gt; &#123; Iterable&lt;T&gt; iterator();&#125;// èšåˆå®¹å™¨ç±»class AggregateObject implements Iterable&lt;String&gt; &#123; private List&lt;String&gt; items = new ArrayList&lt;&gt;(); // è¿­ä»£å™¨å†…éƒ¨ç±» class AggregateIterator implements Iterator&lt;String&gt; &#123; int index = 0; @Override public boolean hasNext() &#123; return index &lt; items.size(); &#125; @Override public String next() &#123; return items.get(index++); &#125; &#125; @Override public Iterable&lt;String&gt; iterator() &#123; return (Iterable&lt;String&gt;) this.new AggregateIterator(); &#125;&#125; å‚è€ƒèµ„æ–™ è®¾è®¡æ¨¡å¼ä¹‹ç¦… java-design-patterns JDK 1.8 æºç ","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/è®¾è®¡æ¨¡å¼/"},{"name":"è¡Œä¸ºå‹æ¨¡å¼","slug":"è¡Œä¸ºå‹æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/è¡Œä¸ºå‹æ¨¡å¼/"},{"name":"è¿­ä»£å™¨æ¨¡å¼","slug":"è¿­ä»£å™¨æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/è¿­ä»£å™¨æ¨¡å¼/"}]},{"title":"è®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•æ¨¡å¼","slug":"2018-08-09-è®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•æ¨¡å¼","date":"2018-08-09T06:43:10.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2018/08/09/2018-08-09-è®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•æ¨¡å¼/","link":"","permalink":"http://www.shifeiqi.top/2018/08/09/2018-08-09-è®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•æ¨¡å¼/","excerpt":"","text":"å†™åœ¨å‰é¢åˆšå¼€å§‹è¯»jdkæºç çš„æ—¶å€™æ„Ÿè§‰å“‡è¿™ä»£ç å¥½ä¹±ï¼Œä¸ºä»€ä¹ˆå­ç±»è°ƒçˆ¶ç±»ï¼Œçˆ¶ç±»è°ƒå­ç±»ï¼Œè·³æ¥è·³å»çš„çœ¼ç›éƒ½èŠ±äº†ã€‚ã€‚åæ¥æ‰çŸ¥é“ï¼ŒåŸæ¥é‚£ç§å†™æ³•è¢«å«åšæ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚ å®šä¹‰Define the skeleton of an algorithm in an operation,deferring some steps to subclasses.TemplateMethod lets subclasses redefine certain steps of an algorithm without changing the algorithmâ€™sstructure.å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„æ¡†æ¶ï¼Œ è€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚ ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ URM ç±»å›¾æ¨¡æ¿æ–¹æ³•æ¨¡å¼ çš„é€šç”¨ç±»å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š java-design-pattern-template å…¶ä¸­ï¼š AbstractClass æ˜¯æŠ½è±¡æ¨¡æ¿ç±»ï¼Œå…¶ä¸­å®šä¹‰äº†æ¨¡æ¿æ–¹æ³•ï¼ŒåŸºæœ¬æ“ä½œæ–¹æ³•å’Œé’©å­æ–¹æ³•ã€‚ ConcreteClassA å…·ä½“æ¨¡æ¿æ–¹æ³•ï¼Œé‡å†™åŸºæœ¬æ–¹æ³•å’Œé’©å­æ–¹æ³•ã€‚ operateMethod() åŸºæœ¬æ“ä½œæ–¹æ³•ï¼Œç”±å­ç±»é‡å†™ï¼Œå¹¶ä¸”åœ¨æ¨¡æ¿æ–¹æ³•ä¸­è¢«è°ƒç”¨ã€‚ templateMethod() æ¨¡æ¿æ–¹æ³•, ç”±æŠ½è±¡æ¨¡æ¿ç±»å®ç°ï¼Œä¸€èˆ¬ä»¥å›ºå®šçš„é€»è¾‘è°ƒç”¨åŸºæœ¬æ“ä½œæ–¹æ³•å’Œé’©å­æ–¹æ³•ã€‚ hookMethod() é’©å­æ–¹æ³•ï¼Œä¸€èˆ¬æ˜¯ç”±æŠ½è±¡æ¨¡æ¿ç±»æä¾›çš„ç©ºæ–¹æ³•ï¼Œå…·ä½“æ¨¡æ¿ç±»å¯é€‰æ‹©æ€§çš„å®ç°è¯¥æ–¹æ³•ã€‚ å…·ä½“æ€ç»´å¯¼å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š java-design-pattern-template å…·ä½“å®ç°ä»¥ä¸‹æ˜¯æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„å…·ä½“å®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// æŠ½è±¡æ¨¡æ¿ç±»abstract class AbstractClass &#123; // åŸºæœ¬æ“ä½œæ–¹æ³• protected abstract void operateMethod1(); protected abstract void operateMethod2(); // é’©å­æ–¹æ³• protected void hookMethod()&#123;&#125; // æ¨¡æ¿æ–¹æ³• public void templateMethod() &#123; // è¯¥æ¨¡æ¿æ–¹æ³•çš„å®ç°é€»è¾‘æ˜¯ä¾æ¬¡è°ƒç”¨åŸºæœ¬æ“ä½œæ–¹æ³•å’Œé’©å­æ–¹æ³• operateMethod1(); hookMethod(); operateMethod2(); &#125;&#125;// å…·ä½“æ¨¡æ¿ç±»class ConcreteClassA extends AbstractClass &#123; @Override protected void operateMethod1() &#123; // é‡å†™åŸºæœ¬æ“ä½œæ–¹æ³• System.out.println(\"ConcreteClassA.operateMethod1()\"); &#125; @Override protected void operateMethod2() &#123; // é‡å†™åŸºæœ¬æ“ä½œæ–¹æ³• System.out.println(\"ConcreteClassA.operateMethod2()\"); &#125;&#125;// å…·ä½“æ¨¡æ¿ç±»class ConcreteClassB extends AbstractClass &#123; @Override protected void operateMethod1() &#123; // é‡å†™åŸºæœ¬æ“ä½œæ–¹æ³• System.out.println(\"ConcreteClassB.operateMethod1()\"); &#125; @Override protected void operateMethod2() &#123; // é‡å†™åŸºæœ¬æ“ä½œæ–¹æ³• System.out.println(\"ConcreteClassB.operateMethod2()\"); &#125; @Override protected void hookMethod() &#123; // é‡å†™é’©å­æ–¹æ³• super.hookMethod(); System.out.println(\"ConcreteClassB.hookMethod()\"); &#125;&#125;// æµ‹è¯•ç±»public class App&#123; public static void main(String[] args) &#123; AbstractClass concreteA = new ConcreteClassA(); concreteA.templateMethod(); AbstractClass concreteB = new ConcreteClassB(); concreteB.templateMethod(); &#125;&#125; å‚è€ƒ è®¾è®¡æ¨¡å¼ä¹‹ç¦… java-design-patterns","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/è®¾è®¡æ¨¡å¼/"},{"name":"è¡Œä¸ºå‹æ¨¡å¼","slug":"è¡Œä¸ºå‹æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/è¡Œä¸ºå‹æ¨¡å¼/"},{"name":"æ¨¡æ¿æ–¹æ³•æ¨¡å¼","slug":"æ¨¡æ¿æ–¹æ³•æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/æ¨¡æ¿æ–¹æ³•æ¨¡å¼/"}]},{"title":"Javaå››ç§å¼•ç”¨æ–¹å¼","slug":"2018-08-08-Javaå››ç§å¼•ç”¨æ–¹å¼","date":"2018-08-08T06:33:10.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2018/08/08/2018-08-08-Javaå››ç§å¼•ç”¨æ–¹å¼/","link":"","permalink":"http://www.shifeiqi.top/2018/08/08/2018-08-08-Javaå››ç§å¼•ç”¨æ–¹å¼/","excerpt":"","text":"åŸºæœ¬æ¦‚å¿µè‡ªJDK1.2ä¹‹åï¼ŒJavaå¯¹å¼•ç”¨çš„æ¦‚å¿µè¿›è¡Œäº†æ‰©å……ï¼Œå°†å¼•ç”¨ç±»å‹åˆ†ä¸ºå››ç§:å¼ºå¼•ç”¨ï¼Œè½¯å¼•ç”¨ï¼Œå¼±å¼•ç”¨ï¼Œè™šå¼•ç”¨ã€‚åŒæ—¶Javaè¿˜æ–°å¢äº†å¼•ç”¨é˜Ÿåˆ—ç”¨æ¥é…åˆå››ç§å¼•ç”¨ç±»å‹ä½¿ç”¨ã€‚ å¼•ç”¨æ€ç»´å¯¼å›¾ å…¶ä¸­ï¼š å¼ºå¼•ç”¨(Strong Reference)å¼ºå¼•ç”¨æ˜¯ç¨‹åºä¸­æ™®éå­˜åœ¨çš„ï¼Œç±»ä¼¼äºObject obj = new Object();, å¯¹äºä¸å¼ºå¼•ç”¨å…³è”çš„å¯¹è±¡ï¼Œåªè¦å¼ºå¼•ç”¨è¿˜åœ¨ï¼ŒJavaè™šæ‹Ÿæœºæ°¸è¿œéƒ½ä¸ä¼šå›æ”¶ã€‚ è½¯å¼•ç”¨(Soft Reference)è½¯å¼•ç”¨ç”¨æ¥æè¿°ä¸€äº›è¿˜æœ‰ç”¨ä½†æ˜¯å¹¶éå¿…é¡»çš„å¯¹è±¡ã€‚å¯¹äºè½¯å¼•ç”¨å…³è”çš„å¯¹è±¡ï¼Œåªæœ‰å°†è¦å‘ç”Ÿå†…å­˜æº¢å‡ºæ—¶ï¼ŒJavaè™šæ‹Ÿæœºæ‰ä¼šå›æ”¶è¿™äº›å¯¹è±¡ã€‚ å¼±å¼•ç”¨(Weak Reference)å¼±å¼•ç”¨ç”¨æ¥æè¿°éå¿…éœ€å¯¹è±¡ã€‚å¯¹äºå¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ï¼ŒJavaè™šæ‹Ÿæœºåªè¦è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œæ— è®ºå½“å‰å†…å­˜æ˜¯å¦å°†è¦æº¢å‡ºï¼Œéƒ½ä¼šé‡Šæ”¾å›æ”¶è¿™äº›å¯¹è±¡ã€‚ è™šå¼•ç”¨(Phantom Reference)è™šå¼•ç”¨åªæ˜¯ç”¨æ¥æ ‡å¿—ä¸€ä¸ªå¯¹è±¡ï¼Œä»¥ä¾¿åœ¨å¯¹è±¡è¢«Javaè™šæ‹Ÿæœºå›æ”¶é‡Šæ”¾ä¹‹åèƒ½å¾—åˆ°ä¸€ä¸ªé€šçŸ¥ã€‚è™šå¼•ç”¨å¯¹äºå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸåŠå…¶ä»–çŠ¶æ€å¹¶æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚ å¼•ç”¨é˜Ÿåˆ—(Reference Queue)å¼•ç”¨é˜Ÿåˆ—ç”¨æ¥æ¥æ”¶ç³»ç»Ÿé€šçŸ¥ï¼Œå½“Javaè™šæ‹Ÿæœºå°†è¦å›æ”¶å¯¹è±¡æ—¶ï¼Œè™šæ‹Ÿæœºä¼šå°†è¯¥å¯¹è±¡çš„å¼•ç”¨åŠ å…¥åˆ°å¼•ç”¨é˜Ÿåˆ—ä¸­ï¼Œç”¨ä»¥é€šçŸ¥è¯¥å¯¹è±¡å°†è¦è¢«åƒåœ¾å›æ”¶ã€‚ ä½¿ç”¨ç¤ºä¾‹ å¼ºå¼•ç”¨ä¸€èˆ¬Javaä»£ç ä¸­çš„å¼•ç”¨å…³ç³»å³ä¸ºå¼ºå¼•ç”¨ï¼Œå¦‚ä¸‹: 1Object obj = new Object(); è½¯å¼•ç”¨è½¯å¼•ç”¨ SoftReference ä¸¤ç§ç”¨æ³•ï¼šå•ç‹¬ä½¿ç”¨ä»¥åŠä¸å¼•ç”¨é˜Ÿåˆ—é…åˆä½¿ç”¨ã€‚ 1234567891011 // 1. å•ç‹¬ä½¿ç”¨è½¯å¼•ç”¨ï¼Œè‹¥ä¸è½¯å¼•ç”¨å…³è”çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ï¼Œ // åˆ™é€šè¿‡è½¯å¼•ç”¨getæ–¹æ³•è·å–å…³è”çš„å¯¹è±¡ä¸ºnullReference&lt;Object&gt; reference = new SoftReference&lt;Object&gt;(new Object());Object obj = reference.get(); // 2. è½¯å¼•ç”¨ä¸å¼•ç”¨é˜Ÿåˆ—é…åˆä½¿ç”¨ï¼Œè‹¥ä¸è½¯å¼•ç”¨å…³è”çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ // åˆ™åœ¨å¯¹è±¡è¢«åƒåœ¾å›æ”¶ä¹‹å‰ï¼Œè½¯å¼•ç”¨ä¼šè¢«æ”¾å…¥ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ReferenceQueue&lt;Object&gt; referenceQueue = new ReferenceQueue&lt;&gt;();Reference&lt;Object&gt; reference = new SoftReference&lt;Object&gt;(new Object(), referenceQueue);// è·å–å¼•ç”¨é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªitemReference refFromQueue = referenceQueue.poll(); è™šå¼•ç”¨è™šå¼•ç”¨ä¹Ÿæœ‰ä¸¤ç§ç”¨æ³•ï¼šå•ç‹¬ä½¿ç”¨ä»¥åŠä¸å¼•ç”¨é˜Ÿåˆ—é…åˆä½¿ç”¨ã€‚ 12345678910111213 // 1. å•ç‹¬ä½¿ç”¨å¼±å¼•ç”¨ï¼Œè‹¥ä¸å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ï¼Œ // åˆ™é€šè¿‡å¼±å¼•ç”¨getæ–¹æ³•è·å–å…³è”çš„å¯¹è±¡ä¸ºnullReference&lt;Object&gt; reference = new SoftReference&lt;Object&gt;(new Object());System.gc(); // åƒåœ¾å›æ”¶Object obj = reference.get(); // null // 2. rå¼±å¼•ç”¨ä¸å¼•ç”¨é˜Ÿåˆ—é…åˆä½¿ç”¨ï¼Œè‹¥ä¸å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ // åˆ™åœ¨å¯¹è±¡è¢«åƒåœ¾å›æ”¶ä¹‹å‰ï¼Œå¼±å¼•ç”¨ä¼šè¢«æ”¾å…¥ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ReferenceQueue&lt;Object&gt; referenceQueue = new ReferenceQueue&lt;&gt;();Reference&lt;Object&gt; reference = new SoftReference&lt;Object&gt;(new Object(), referenceQueue);System.gc(); // åƒåœ¾å›æ”¶Reference refFromQueue = referenceQueue.poll(); // è·å–å…¥é˜Ÿåˆ—çš„referenceObject obj = refFromQueue.get(); // null è™šå¼•ç”¨è™šå¼•ç”¨åªèƒ½å’Œå¼•ç”¨é˜Ÿåˆ—ä¸€åŒä½¿ç”¨&lt;æ¯•ç«Ÿè™šå¼•ç”¨åªæ˜¯ç»™å¯¹è±¡æ‰“ä¸Šä¸€ä¸ªæ ‡å¿—ï¼Œä»¥ä¾¿ç¨‹åºèƒ½å¤Ÿåœ¨å¯¹è±¡è¢«åƒåœ¾å›æ”¶ä¹‹åæ¥æ”¶åˆ°é€šçŸ¥&gt;ï¼Œå…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š 1234567 // è™šå¼•ç”¨ä¸å¼•ç”¨é˜Ÿåˆ—é…åˆä½¿ç”¨ï¼Œè‹¥ä¸è™šå¼•ç”¨å…³è”çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ // åˆ™åœ¨å¯¹è±¡è¢«åƒåœ¾å›æ”¶ä¹‹å‰ï¼Œè™šå¼•ç”¨ä¼šè¢«æ”¾å…¥ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ReferenceQueue&lt;Object&gt; referenceQueue = new ReferenceQueue&lt;&gt;();Reference&lt;Object&gt; reference = new PhantomReference&lt;&gt;(new Object(), referenceQueue);System.gc(); // åƒåœ¾å›æ”¶Reference refFromQueue = referenceQueue.poll(); // è·å–å…¥é˜Ÿåˆ—çš„referenceObject obj = refFromQueue.get(); // null æºç ç•¥è¯»è¯´æ˜¯æºç ç•¥è¯»ï¼Œå……å…¶é‡åªæ˜¯ä»‹ç»å…¶APIï¼Œç­‰ä»¥åæœ‰ç©ºå†è¡¥ä¸€ç« æºç ç»†è¯»ã€‚ ä¸‰ç§å¼•ç”¨ä»‹ç»Jdk1.2 è™½ç„¶å°†å¼•ç”¨æ‰©å……è‡³å››ç§å¼•ç”¨ç±»å‹ï¼Œä½†æ˜¯åªæä¾›ä¸‰å¥—å¼•ç”¨ç±»å‹ç›¸å…³ç±», æ¯•ç«Ÿå¼ºå¼•ç”¨è‡³æ­»ä¸ä¼šè¢«Javaè™šæ‹Ÿæœºå›æ”¶ï¼Œæä¾›ä¸ä¹‹ç›¸å…³çš„Javaç±»æ¯«æ— æ„ä¹‰ã€‚ç®€å•ç±»å›¾å¦‚ä¸‹æ‰€ç¤ºï¼šå…¶ä¸­ï¼šå¯¹äºçˆ¶ç±»Referenceï¼Œå…¶ä¸­å„æ–¹æ³•çš„å«ä¹‰ï¼š get() è·å–ä¸å¼•ç”¨å…³è”çš„å¯¹è±¡ï¼Œè‹¥å¯¹è±¡è¢«åƒåœ¾å›æ”¶ï¼Œåˆ™è¿”å›nullã€‚å„ä¸ªå­ç±»æ ¹æ®éœ€æ±‚é‡å†™äº†è¯¥æ–¹æ³•ã€‚ clear() æ¸…é™¤ä¸ä¹‹å…³è”çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¼šåœ¨ä¸‹æ¬¡åƒåœ¾å›æ”¶ä¸­è¢«æ¸…é™¤å›æ”¶ã€‚ isEnqueued() æŸ¥è¯¢è¯¥å¼•ç”¨æ˜¯å¦è¿›å…¥å¼•ç”¨é˜Ÿåˆ—ï¼Œå³ä¸è¯¥å¼•ç”¨å…³è”çš„å¯¹è±¡æ˜¯å¦å³å°†è¢«åƒåœ¾å›æ”¶æˆ–è€…å·²ç»è¢«åƒåœ¾å›æ”¶ã€‚ enqueue() å°†è¯¥å¼•ç”¨åŠ å…¥åˆ°å¼•ç”¨é˜Ÿåˆ—ä¸­å»ã€‚ å¼•ç”¨é˜Ÿåˆ—å¼•ç”¨é˜Ÿåˆ—ç”¨æ¥å­˜æ”¾å³å°†è¢«åƒåœ¾å›æ”¶çš„å¯¹è±¡çš„å¼•ç”¨ä»¥åŠå·²ç»è¢«åƒåœ¾å›æ”¶çš„å¯¹è±¡çš„å¼•ç”¨ã€‚è¯¥é˜Ÿåˆ—å†…éƒ¨æ˜¯ä¸€ä¸ªé“¾è¡¨çš„å®ç°ï¼Œæ¯æ¬¡å…¥é˜Ÿåˆ—éƒ½ä¼šåœ¨é˜Ÿåˆ—å¤´æ’å…¥èŠ‚ç‚¹ï¼Œæ¯æ¬¡å‡ºé˜Ÿåˆ—éƒ½ä¼šä»é˜Ÿåˆ—å¤´å–å‡ºèŠ‚ç‚¹ï¼Œé¢‡æœ‰æ ˆçš„é£æ ¼ã€‚å…¶ç±»å›¾å¦‚ä¸‹ï¼šå…¶ä¸­ï¼Œè¯¥ç±»ä¸ªæ–¹æ³•ä»‹ç»å¦‚ä¸‹ï¼š poll() ä»é˜Ÿåˆ—ä¸­å¼¹å‡ºä¸€ä¸ªå¼•ç”¨ï¼Œè‹¥é˜Ÿåˆ—ä¸ºç©ºåˆ™ç«‹åˆ»è¿”å›nullã€‚ remove() åˆ é™¤é˜Ÿåˆ—å¤´éƒ¨èŠ‚ç‚¹å¹¶è¿”å›ï¼Œè‹¥é˜Ÿåˆ—ä¸ºç©ºåˆ™ä¸€ç›´ç­‰åˆ°è¯¥é˜Ÿåˆ—ä¸­æœ‰èŠ‚ç‚¹ä¸ºæ­¢ã€‚ remove(long) åˆ é™¤é˜Ÿåˆ—å¤´éƒ¨èŠ‚ç‚¹å¹¶è¿”å›,è‹¥é˜Ÿåˆ—ä¸ºç©ºåˆ™ç­‰å¾…å‚æ•°æ—¶é—´å¹¶è¿”å›ã€‚ å‚è€ƒ æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº JDK 1.8 æºç ","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"å¼•ç”¨æ–¹å¼","slug":"å¼•ç”¨æ–¹å¼","permalink":"http://www.shifeiqi.top/tags/å¼•ç”¨æ–¹å¼/"},{"name":"Reference","slug":"Reference","permalink":"http://www.shifeiqi.top/tags/Reference/"}]},{"title":"Javaæ¥å£-åŸºç¡€","slug":"2018-08-02-Javaæ¥å£-åŸºç¡€","date":"2018-08-02T01:47:10.000Z","updated":"2019-03-01T14:07:06.002Z","comments":true,"path":"2018/08/02/2018-08-02-Javaæ¥å£-åŸºç¡€/","link":"","permalink":"http://www.shifeiqi.top/2018/08/02/2018-08-02-Javaæ¥å£-åŸºç¡€/","excerpt":"","text":"å†™åœ¨å‰é¢æ¥å£æ˜¯Javaæä¾›çš„ä¸€ç§éå¸¸å¼ºå¤§çš„ç‰¹æ€§ï¼Œä½¿ç”¨æ¥å£æœºåˆ¶å¯ä»¥å®ç°å°è£…éš”ç¦»ï¼Œå°†å¤–éƒ¨è°ƒç”¨ä¸å†…éƒ¨å®ç°åˆ†å‰²å¼€æ¥ã€‚é¢å‘æ¥å£ç¼–ç¨‹ æ˜¯ä¸€ç§æå…¶å¼ºå¤§çš„ç¼–ç¨‹æ€æƒ³ï¼Œé‰´äºç¬”è€…æ°´å¹³ä¸ç»éªŒæœ‰é™ï¼Œæ­¤ç¯‡æ–‡ç« åªé˜è¿°Javaä¸­æ¥å£ç›¸å…³çš„åŸºç¡€å†…å®¹ã€‚æœ¬ç¯‡æ–‡ç« ç»„ç»‡ç»“æ„å¦‚ä¸‹å›¾ï¼š æ¥å£å®šä¹‰ æ¥å£å®šä¹‰æ ¼å¼Java ä¸­ä½¿ç”¨å…³é”®å­— interface æ¥å®šä¹‰æ¥å£ï¼Œå®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š 1// [è®¿é—®æƒé™ç¬¦] interface æ¥å£åç§°&#123;&#125; æ¥å£å®šä¹‰å®šä¹‰ä¸€ä¸ªæ¥å£IPerson, å†…å®¹ä¸ºç©ºï¼Œå¦‚ä¸‹: 1public interface IPerson &#123;&#125; æ¥å£æ–¹æ³•å®šä¹‰ æ¥å£æ–¹æ³•å®šä¹‰æ³¨æ„ æ¥å£æ–¹æ³•é»˜è®¤è®¿é—®æƒé™æ˜¯ public ï¼Œä¸”åªèƒ½æ˜¯ publicã€‚ æ¥å£æ–¹æ³•åªèƒ½æ˜¯å®ä¾‹æ–¹æ³•ï¼Œä¸èƒ½ç”¨å…³é”®å­— static ã€final ä¿®é¥°ã€‚ï¼ˆä¸ç„¶å­ç±»æ€ä¹ˆé‡å†™æ¥å£æ–¹æ³•ï¼Ÿï¼‰ã€‚ æ¥å£æ–¹æ³•æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œåªèƒ½å®šä¹‰ï¼Œä¸èƒ½å®ç°ï¼ˆå³ä¸èƒ½æœ‰æ–¹æ³•ä½“ï¼‰ã€‚ æ¥å£æ–¹æ³•å®šä¹‰æ ¼å¼ 1// [public] è¿”å›å€¼ç±»å‹ æ–¹æ³•å([å‚æ•°ç±»å‹ arg1, å‚æ•°ç±»å‹ arg2 ...]); æ¥å£æ–¹æ³•å®šä¹‰ç¤ºä¾‹å®šä¹‰ä¸€ä¸ªæ¥å£ IPerson ï¼Œå…·å¤‡æ¥å£æ–¹æ³• say å’Œ run , å¦‚ä¸‹ï¼š 1234567public interface IPerson &#123; // ç¬¬ä¸€ç§å½¢å¼ï¼Œæ˜¾ç¤ºå£°æ˜æ–¹æ³•è®¿é—®æƒé™ public void say(); // ç¬¬äºŒç§å½¢å¼ï¼Œä½¿ç”¨éšå¼çš„æ–¹æ³•è®¿é—®æƒé™ public void run();&#125;public æ¥å£å±æ€§å®šä¹‰ æ¥å£å±æ€§å®šä¹‰æ³¨æ„ æ¥å£å±æ€§åªèƒ½è¢«å®šä¹‰ä¸º å…¬æœ‰é™æ€å¸¸é‡ , å³ public static finalã€‚ æ¥å£å±æ€§å®šä¹‰æ ¼å¼ 1// [public] [static] [final] å±æ€§ç±»å‹ å±æ€§åç§° = åˆå§‹å€¼ ; æ¥å£å±æ€§å®šä¹‰ç¤ºä¾‹ 123456public interface IPerson &#123; // æ˜¾ç¤ºå£°æ˜å±æ€§ä¿®é¥°ç¬¦ public static final String race = \"human\"; // ä½¿ç”¨éšå¼çš„å±æ€§ä¿®é¥°ç¬¦ public static final String where = \"earth\";&#125; æ¥å£ç»§æ‰¿ Java å¯ä»¥é€šè¿‡ç»§æ‰¿æ¥æ‰©å±•æ¥å£ï¼Œå…¶ä¸€èˆ¬çš„ç»§æ‰¿æ ¼å¼å¦‚ä¸‹: 1// [è®¿é—®æƒé™ç¬¦] interface æ¥å£åç§° [extends çˆ¶æ¥å£1 [, çˆ¶æ¥å£1, çˆ¶æ¥å£3 ...]] &#123;&#125; ä¸€ä¸ªç¤ºä¾‹ 12public interface IPerson &#123;&#125;interface IYPerson extends IPerson, Serializable &#123;&#125; å‚è€ƒèµ„æ–™ Javaç¼–ç¨‹æ€æƒ³","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"æ¥å£","slug":"æ¥å£","permalink":"http://www.shifeiqi.top/tags/æ¥å£/"},{"name":"Interface","slug":"Interface","permalink":"http://www.shifeiqi.top/tags/Interface/"}]},{"title":"è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","slug":"2018-08-01-è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","date":"2018-08-01T06:54:10.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2018/08/01/2018-08-01-è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼/","link":"","permalink":"http://www.shifeiqi.top/2018/08/01/2018-08-01-è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼/","excerpt":"","text":"å®šä¹‰Ensure a class has only one instance, and provide a global point of access to it.ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”å‘æ•´ä¸ªåº”ç”¨æä¾›è¿™ä¸ªå®ä¾‹ã€‚ URMå•ä¾‹ç±»æ¨¡æ¿ä¸€èˆ¬çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹: æ‹¥æœ‰ä¸€ä¸ªé™æ€å±æ€§ç”¨æ¥æŒ‡å‘å•ä¾‹å¯¹è±¡ã€‚ æ„é€ æ–¹æ³•ç§æœ‰åŒ–ï¼Œé¿å…å…¶ä»–å¯¹è±¡åˆ›å»ºè¯¥ç±»å®ä¾‹&lt;ä¸ç„¶å«å•¥å•ä¾‹&gt;ã€‚ æä¾›ä¸€ä¸ªå…¬æœ‰æ¥å£æä¾›å•ä¾‹å¯¹è±¡ã€‚ å…·ä½“ç±»å›¾å¦‚ä¸‹: å®ç°æ ¹æ®å•ä¾‹å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶æœºï¼Œå•ä¾‹æ¨¡å¼çš„å®ç°ä¸€èˆ¬è¢«åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š å•ä¾‹æ¨¡å¼-URM å„ç§å†™æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š é¥¿æ±‰å†™æ³• (eagerly initialized singleton)é¥¿æ±‰å†™æ³•åˆ©ç”¨Javaçš„ç±»åŠ è½½æœºåˆ¶ï¼Œåœ¨ç±»åŠ è½½çš„æ—¶å€™å¯¹å®ä¾‹è¿›è¡Œåˆå§‹åŒ–ï¼Œå·§å¦™åœ°é¿å¼€äº†å¤šçº¿ç¨‹ç«äº‰å¯¼è‡´å®ä¾‹åˆå§‹åŒ–å¤šæ¬¡çš„é—®é¢˜ã€‚ 12345678910111213public class Singleton &#123; private static final Singleton INSTANCE = new Singleton(); // ç§æœ‰åŒ–æ„é€ å‡½æ•°ï¼Œé¿å…è¯¥ç±»è¢«å…¶ä»–å¯¹è±¡åˆå§‹åŒ– private Singleton() &#123; &#125; // å…±æœ‰æ¥å£ï¼Œè·å–å•ä¾‹å¯¹è±¡ public static Singleton getInstance() &#123; return INSTANCE; &#125;&#125; æ‡’æ±‰å†™æ³•-çº¿ç¨‹å®‰å…¨ (lazily initialized singleton)æ‡’æ±‰å†™æ³•åŸºäºæ‡’åŠ è½½(lazy loading)åŸç†ï¼Œåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™è¯¥å®ä¾‹çš„æ—¶å€™æ‰ä¼šå¯¹è¯¥å®ä¾‹è¿›è¡Œå®ä¾‹åŒ–æ“ä½œã€‚åœ¨å¤šçº¿ç¨‹æ¨¡å¼ä¸‹ï¼Œç”±äºå¤šçº¿ç¨‹ç«äº‰é”ä¼šå¯¼è‡´æ•ˆç‡é—®é¢˜ã€‚ 12345678910111213141516public class Singleton &#123; private static Singleton INSTANCE; // ç§æœ‰åŒ–æ„é€ å‡½æ•°ï¼Œé¿å…è¯¥ç±»è¢«å…¶ä»–å¯¹è±¡åˆå§‹åŒ– private Singleton() &#123; &#125; // å…±æœ‰æ¥å£ï¼Œè·å–å•ä¾‹å¯¹è±¡ public static synchronized Singleton getInstance() &#123; if(INSTANCE == null) &#123; INSTANCE = new Singleton(); &#125; return INSTANCE; &#125;&#125; æ‡’æ±‰å†™æ³•-åŒæ£€é”DCL (Double Check Locking)DCLåŸºäºçº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†å¤šçº¿ç¨‹ç«äº‰é”å¯¼è‡´çš„æ•ˆç‡é—®é¢˜ã€‚ 1234567891011121314151617181920public class Singleton &#123; private static Singleton INSTANCE; // ç§æœ‰åŒ–æ„é€ å‡½æ•°ï¼Œé¿å…è¯¥ç±»è¢«å…¶ä»–å¯¹è±¡åˆå§‹åŒ– private Singleton() &#123; &#125; // å…±æœ‰æ¥å£ï¼Œè·å–å•ä¾‹å¯¹è±¡ public static Singleton getInstance() &#123; if(INSTANCE == null) &#123; synchronized (Singleton.class) &#123; if(INSTANCE == null) &#123; INSTANCE = new Singleton(); &#125; &#125; &#125; return INSTANCE; &#125;&#125; æ‡’æ±‰å†™æ³•-å†…éƒ¨ç±»åŸºäºå†…éƒ¨ç±»çš„æ‡’æ±‰æ¨¡å¼åŸºäºä»¥ä¸‹åŸç†:å†…éƒ¨ç±»ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šè¢«Javaè™šæ‹ŸæœºåŠ è½½ï¼Œè¿›è€Œå»å®ä¾‹åŒ–å†…éƒ¨ç±»çš„ç±»å±æ€§ã€‚ 123456789101112131415 public class Singleton &#123; // ç§æœ‰åŒ–æ„é€ å‡½æ•°ï¼Œé¿å…è¯¥ç±»è¢«å…¶ä»–å¯¹è±¡åˆå§‹åŒ– private Singleton() &#123; &#125; // å…±æœ‰æ¥å£ï¼Œè·å–å•ä¾‹å¯¹è±¡ public static Singleton getInstance() &#123; return SingletonHolder.INSTANCE; &#125; // å†…éƒ¨ç±»ï¼ŒæŒæœ‰å•ä¾‹å¯¹è±¡ private static class SingletonHolder &#123; public static final Singleton INSTANCE = new Singleton(); &#125;&#125; å‚è€ƒèµ„æ–™ è®¾è®¡æ¨¡å¼ä¹‹ç¦… java-design-patterns Double-Checked Locking","categories":[{"name":"2018","slug":"2018","permalink":"http://www.shifeiqi.top/categories/2018/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/è®¾è®¡æ¨¡å¼/"},{"name":"åˆ›å»ºå‹æ¨¡å¼","slug":"åˆ›å»ºå‹æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/åˆ›å»ºå‹æ¨¡å¼/"},{"name":"å•ä¾‹æ¨¡å¼","slug":"å•ä¾‹æ¨¡å¼","permalink":"http://www.shifeiqi.top/tags/å•ä¾‹æ¨¡å¼/"}]},{"title":"Redis and Jedisï¼ˆLists-Javaï¼‰","slug":"2017-09-29-Redis and Jedisï¼ˆLists-Javaï¼‰","date":"2017-10-01T01:28:25.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2017/10/01/2017-09-29-Redis and Jedisï¼ˆLists-Javaï¼‰/","link":"","permalink":"http://www.shifeiqi.top/2017/10/01/2017-09-29-Redis and Jedisï¼ˆLists-Javaï¼‰/","excerpt":"","text":"APIä»‹ç»åŠç¤ºä¾‹Jedisä¸­å…³äºListæ“ä½œçš„APIå¦‚ä¸‹ï¼š Jedis.blpop(int timeout,String... keys)ï¼šä»å·¦è¾¹è·å–å¹¶åˆ é™¤åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œtimeoutè¡¨ç¤ºé˜»å¡æ—¶é—´ã€‚ 123456789101112// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// å¼¹å‡ºåä¸ºtListçš„åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé˜»å¡æ—¶é—´ä¸º10sList&lt;String&gt; ret1 = jedis.blpop(10, \"tList\");/* * æŒ‰ç…§é¡ºåºåœ¨l1ã€l2ã€l3ä¸‰ä¸ªåˆ—è¡¨ä¸­å¯»æ‰¾ä¸€ä¸ªå…ƒç´ å¹¶å¼¹å‡ºã€‚ * redisé¦–å…ˆå¼¹å‡ºl1ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶ç»“æŸï¼Œå¦‚æœl1ä¸ºç©ºï¼Œåˆ™å¼¹å‡ºl2ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶ç»“æŸï¼Œå¦‚æœl2ä¸ºç©ºï¼Œ * åˆ™å¼¹å‡ºl3ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶ç»“æŸï¼›å¦‚æœl3ä¸ºç©ºï¼Œåˆ™è¿›å…¥10sé˜»å¡æ—¶é—´ã€‚ */List&lt;String&gt; ret2 = jedis.blpop(10, \"l1\", \"l2\", \"l3\"); Jedis.brpop(int timeout,String... keys);: ä»å³è¾¹è·å–å¹¶åˆ é™¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œtimeoutè¡¨ç¤ºé˜»å¡æ—¶é—´ã€‚ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// ä»å³è¾¹è·å–å¹¶åˆ é™¤åˆ—è¡¨listçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé˜»å¡æ—¶é—´ä¸º10sList&lt;String&gt; ret1 = jedis.brpop(10, \"list\"); Jedis.brpoplpush(String source,String destination,int timeout)ï¼šå¼¹å‡ºå¹¶åˆ é™¤sourceä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå°†å…¶æ¨å…¥åˆ°destinationä¸­ï¼Œé˜»å¡æ—¶é—´ä¸ºtimeoutã€‚ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹ Jedis jedis = new Jedis(\"10.1.10.53\", 6379); // æˆæƒ jedis.auth(\"redis\"); // å¼¹å‡ºl1ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶æ¨å…¥åˆ°l2ä¸­ï¼Œé˜»å¡æ—¶é—´ä¸º5s String ret = jedis.brpoplpush(\"l1\", \"l2\", 5); Jedis.lindex(key, index): è·å–åˆ—è¡¨ä¸­ç´¢å¼•ä¸ºindexçš„å…ƒç´  123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// è·å–l1ä¸­ç´¢å¼•ä¸º2çš„å…ƒç´ String ret = jedis.lindex(\"l1\", 2); Jedis.linsert(String key,LIST_POSITION where,String pivot,String value):åœ¨åˆ—è¡¨çš„å…ƒç´ pivotä¹‹å‰æˆ–è€…ä¹‹åæ’å…¥value 12345678// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// åœ¨åˆ—è¡¨l1ä¸­å…ƒç´ \"hello\"ä¹‹å‰æ’å…¥\"word\"Long ret = jedis.linsert(\"l1\", LIST_POSITION.BEFORE, \"hello\", \"word\");// åœ¨åˆ—è¡¨l1ä¸­çš„å…ƒç´ \"hello\"ä¹‹åæ’å…¥\"word\"Long ret2 = jedis.linsert(\"l1\", LIST_POSITION.AFTER, \"hello\", \"word\"); Jedis.llen(String key);ï¼šè·å–åˆ—è¡¨é•¿åº¦ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// è·å–åˆ—è¡¨l1çš„é•¿åº¦Long ret = jedis.llen(\"l1\"); Jedis.lpop(String key): ä»é˜Ÿåˆ—çš„å·¦è¾¹å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ ã€‚ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// ä»é˜Ÿåˆ—l1çš„å·¦è¾¹å¼¹å‡ºä¸€ä¸ªå…ƒç´ String ret = jedis.lpop(\"l1\"); Jedis.lpush(String key,String... strings): ä»é˜Ÿåˆ—çš„å·¦è¾¹å…¥é˜Ÿä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ã€‚ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// ä»é˜Ÿåˆ—l1çš„å·¦è¾¹å…¥å…ƒç´ \"hello\"long ret = jedis.lpush(\"l1\", \"hello\"); Jedis.lpushx(String key,String... string);: å½“é˜Ÿåˆ—å­˜åœ¨æ—¶ï¼Œä»é˜Ÿåˆ—çš„å·¦è¾¹å…¥é˜Ÿä¸€ä¸ªå…ƒç´ ï¼ˆè‡ªç„¶å½“é˜Ÿåˆ—ä¸å­˜åœ¨æ—¶redisä¸åšæ“ä½œäº†ï¼‰ã€‚ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");//å½“l1å­˜åœ¨æ—¶ï¼Œå°†\"hello\"ä»l1çš„å·¦è¾¹å…¥é˜Ÿã€‚long ret = jedis.lpushx(\"l1\", \"hello\"); Jedis.lrange(String key,long start,long end);: è·å–é˜Ÿåˆ—ä¸­æŒ‡å®šèŒƒå›´çš„å…ƒç´ ,ä»å·¦å‘å³ã€‚ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// è·å–l1ä¸­indexä»2åˆ°4çš„å…ƒç´ List&lt;String&gt; ret = jedis.lrange(\"l1\", 2, 4); Jedis.lrem(String key,long count,long value): ç§»é™¤åˆ—è¡¨ä¸­çš„valueï¼ˆcountå‚æ•°çš„ä½¿ç”¨è§ä¸‹ï¼‰ã€‚ 12345678910// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// ä»å·¦å¾€å³åˆ é™¤2ä¸ªl1ä¸­çš„å€¼ä¸º\"hello\"çš„å…ƒç´ Long ret = jedis.lrem(\"l1\", 2, \"hello\");// ä»å³å¾€å·¦åˆ é™¤3ä¸ªl1ä¸­å€¼ä¸º\"word\"çš„å…ƒç´ long ret2 = jedis.lrem(\"l1\", -3, \"hello\");// åˆ é™¤l1ä¸­æ‰€æœ‰çš„å€¼ä¸ºhahaçš„å…ƒç´ long ret3 = jedis.lrem(\"l1\", 0, \"haha\"); Jedis.lset(String key,long index,String value): è®¾ç½®åˆ—è¡¨ä¸­ä¸‹æ ‡ä¸ºindex(ä»å·¦åˆ°å³)çš„å€¼, 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// è®¾ç½®l1ä¸­ä¸‹æ ‡ä¸º2çš„å…ƒç´ çš„å€¼ä¸ºhelloString ret = jedis.lset(\"l1\", 2, \"hello\"); Jedis.ltrim(String key,long start,long end): æ¸…ç†åˆ—è¡¨ï¼Œåªä¿ç•™ä»startåˆ°stopä¸‹æ ‡çš„å…ƒç´ ã€‚ 12345678// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// æ¸…ç†åˆ—è¡¨l1ï¼Œä¿ç•™æŒ‡å®šèŒƒå›´å…ƒç´ (2-9)ã€‚String ret = jedis.ltrim(\"l1\", 2, 9);// æ¸…ç†åˆ—è¡¨l2ï¼Œä¿ç•™æŒ‡å®šèŒƒå›´å…ƒç´ (1-l2ä¸­å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ çš„ä¸‹æ ‡)ã€‚String ret2 = jedis.ltrim(\"l1\", 1, -2); Jedis.rpop(String key): ä»é˜Ÿåˆ—çš„å³è¾¹å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ å¹¶åˆ é™¤ã€‚ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// ä»é˜Ÿåˆ—l1çš„å³è¾¹å¼¹å‡ºä¸€ä¸ªå…ƒç´ å¹¶åˆ é™¤String value = jedis.rpop(\"l1\"); Jedis.rpoplpush(String srckey,String dstkey): ä»sourceçš„å³è¾¹å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶ä»å·¦è¾¹å…¥é˜Ÿåˆ°destinationä¸­ã€‚ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// ä»l1çš„å³è¾¹å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶ä»å·¦è¾¹å…¥é˜Ÿåˆ°l2ä¸­å»String ret = jedis.rpoplpush(\"l1\", \"l2\"); Jedis.rpush(String key,String... strings): å°†å…ƒç´ ä»é˜Ÿåˆ—çš„å³è¾¹å…¥é˜Ÿã€‚ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// å°†å…ƒç´ helloä»é˜Ÿåˆ—l1çš„å³è¾¹å…¥é˜Ÿlong ret = jedis.rpush(\"l1\", \"hello\"); Jedis.rpushx(String key,String... string): å¦‚æœé˜Ÿåˆ—å­˜åœ¨æ—¶ï¼Œä»è¯¥é˜Ÿåˆ—çš„å³è¾¹å…¥é˜Ÿå…ƒç´  123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// å¦‚æœé˜Ÿåˆ—l1å­˜åœ¨ï¼Œåˆ™ä»l1çš„å³è¾¹å…¥é˜Ÿå…ƒç´ hellolong ret = jedis.rpushx(\"l1\", \"hello\"); å‚è€ƒèµ„æ–™Jediså®˜æ–¹æ–‡æ¡£","categories":[{"name":"2017","slug":"2017","permalink":"http://www.shifeiqi.top/categories/2017/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"Redis","slug":"Redis","permalink":"http://www.shifeiqi.top/tags/Redis/"},{"name":"Jedis","slug":"Jedis","permalink":"http://www.shifeiqi.top/tags/Jedis/"},{"name":"NoSql","slug":"NoSql","permalink":"http://www.shifeiqi.top/tags/NoSql/"},{"name":"å†…å­˜æ•°æ®åº“","slug":"å†…å­˜æ•°æ®åº“","permalink":"http://www.shifeiqi.top/tags/å†…å­˜æ•°æ®åº“/"},{"name":"Key-Value","slug":"Key-Value","permalink":"http://www.shifeiqi.top/tags/Key-Value/"}]},{"title":"Redis and Jedisï¼ˆLists-Commandï¼‰","slug":"2017-09-29-Redis and Jedisï¼ˆLists-Commandï¼‰","date":"2017-10-01T01:28:25.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2017/10/01/2017-09-29-Redis and Jedisï¼ˆLists-Commandï¼‰/","link":"","permalink":"http://www.shifeiqi.top/2017/10/01/2017-09-29-Redis and Jedisï¼ˆLists-Commandï¼‰/","excerpt":"","text":"Commandä»‹ç»Redisä¸­å…³äºListçš„å‘½ä»¤å¦‚ä¸‹ï¼š BLPOP key [key...] timeoutï¼š è·å–å¹¶åˆ é™¤åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œtimeoutè¡¨ç¤ºé˜»å¡æ—¶é—´ã€‚ 123456#å¼¹å‡ºåä¸ºtListçš„åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé˜»å¡æ—¶é—´ä¸º10sBLPOP tList 10#æŒ‰ç…§é¡ºåºåœ¨l1ã€l2ã€l3ä¸‰ä¸ªåˆ—è¡¨ä¸­å¯»æ‰¾ä¸€ä¸ªå…ƒç´ å¹¶å¼¹å‡ºã€‚#redisé¦–å…ˆå¼¹å‡ºl1ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶ç»“æŸï¼Œå¦‚æœl1ä¸ºç©ºï¼Œåˆ™å¼¹å‡ºl2ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶ç»“æŸï¼Œå¦‚æœl2ä¸ºç©ºï¼Œ#åˆ™å¼¹å‡ºl3ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶ç»“æŸï¼›å¦‚æœl3ä¸ºç©ºï¼Œåˆ™è¿›å…¥10sé˜»å¡æ—¶é—´ã€‚BLPOP l1 l2 l3 10 BRPOP key [key...] timeout: è·å–å¹¶åˆ é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œtimeoutè¡¨ç¤ºé˜»å¡æ—¶é—´ã€‚ 12#å¼¹å‡ºåä¸ºlistçš„åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œé˜»å¡æ—¶é—´ä¸º10sBRPOP list 10 BRPOPLPUSH source destination timeoutï¼šå¼¹å‡ºå¹¶åˆ é™¤sourceä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå°†å…¶æ¨å…¥åˆ°destinationä¸­ï¼Œé˜»å¡æ—¶é—´ä¸ºtimeoutã€‚ 12#å¼¹å‡ºl1ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶æ¨å…¥åˆ°l2ä¸­ï¼Œé˜»å¡æ—¶é—´ä¸º5sBRPOPLPUSH l1 l2 5 LINDEX key index: è·å–åˆ—è¡¨ä¸­ç´¢å¼•ä¸ºindexçš„å…ƒç´  12#è·å–l1ä¸­ç´¢å¼•ä¸º2çš„å…ƒç´ LINDEX l1 2 LINSERT key BEFORE|AFTER pivot value:åœ¨åˆ—è¡¨çš„å…ƒç´ pivotä¹‹å‰æˆ–è€…ä¹‹åæ’å…¥value 1234#åœ¨åˆ—è¡¨l1ä¸­å…ƒç´ \"hello\"ä¹‹å‰æ’å…¥\"word\"LINSERT l1 BEFORE \"hello\" \"word\"#åœ¨åˆ—è¡¨l1ä¸­çš„å…ƒç´ \"hello\"ä¹‹åæ’å…¥\"word\"LINSERT l1 AFTER \"hello\" \"word\" LLENï¼šè·å–åˆ—è¡¨é•¿åº¦ 12#è·å–åˆ—è¡¨l1çš„é•¿åº¦LLEN l1 LPOP key: ä»é˜Ÿåˆ—çš„å·¦è¾¹å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ ã€‚ 12#ä»é˜Ÿåˆ—l1çš„å·¦è¾¹å¼¹å‡ºä¸€ä¸ªå…ƒç´ LPOP l1 LPUSH key value [value ...]: ä»é˜Ÿåˆ—çš„å·¦è¾¹å…¥é˜Ÿä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ã€‚ 12#ä»é˜Ÿåˆ—l1çš„å·¦è¾¹å…¥å…ƒç´ \"hello\"LPUSH l1 hello LPUSHX key value: å½“é˜Ÿåˆ—å­˜åœ¨æ—¶ï¼Œä»é˜Ÿåˆ—çš„å·¦è¾¹å…¥é˜Ÿä¸€ä¸ªå…ƒç´ ï¼ˆè‡ªç„¶å½“é˜Ÿåˆ—ä¸å­˜åœ¨æ—¶redisä¸åšæ“ä½œäº†ï¼‰ã€‚ 12#å½“l1å­˜åœ¨æ—¶ï¼Œå°†\"hello\"ä»l1çš„å·¦è¾¹å…¥é˜Ÿã€‚LPUSHX l1 hello LRANGE key statrt stop: è·å–é˜Ÿåˆ—ä¸­æŒ‡å®šèŒƒå›´çš„å…ƒç´ ã€‚ 12#è·å–l1ä¸­indexä»2åˆ°4çš„å…ƒç´ LRANGE l1 2 4 LREM key count value: ç§»é™¤åˆ—è¡¨ä¸­çš„valueï¼ˆcountå‚æ•°çš„ä½¿ç”¨è§ä¸‹ï¼‰ã€‚ 123456#ä»å·¦å¾€å³åˆ é™¤2ä¸ªl1ä¸­çš„å€¼ä¸º\"hello\"çš„å…ƒç´ LREM l1 2 hello#ä»å³å¾€å·¦åˆ é™¤3ä¸ªl1ä¸­å€¼ä¸º\"word\"çš„å…ƒç´ LREM l1 -3 word#åˆ é™¤l1ä¸­æ‰€æœ‰çš„å€¼ä¸ºhahaçš„å…ƒç´ LREM l1 0 haha LSET key index value: è®¾ç½®åˆ—è¡¨ä¸­ä¸‹æ ‡ä¸ºindexçš„å€¼ 12#è®¾ç½®l1ä¸­ä¸‹æ ‡ä¸º2çš„å…ƒç´ çš„å€¼ä¸ºhelloLSET l1 2 hello LTRIM key start stop: æ¸…ç†åˆ—è¡¨ï¼Œåªä¿ç•™ä»startåˆ°stopä¸‹æ ‡çš„å…ƒç´ ã€‚ 1234#æ¸…ç†åˆ—è¡¨l1ï¼Œä¿ç•™æŒ‡å®šèŒƒå›´å…ƒç´ (2-9)ã€‚LTRIM l1 2 9#æ¸…ç†åˆ—è¡¨l2ï¼Œä¿ç•™æŒ‡å®šèŒƒå›´å…ƒç´ (1-l2ä¸­å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ çš„ä¸‹æ ‡)ã€‚LTRIM l2 1 -2 RPOP key: ä»é˜Ÿåˆ—çš„å³è¾¹å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ å¹¶åˆ é™¤ã€‚ 12#ä»é˜Ÿåˆ—l1çš„å³è¾¹å¼¹å‡ºä¸€ä¸ªå…ƒç´ å¹¶åˆ é™¤RPOP l1 RPOPLPUSH source destination: ä»sourceçš„å³è¾¹å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶ä»å·¦è¾¹å…¥é˜Ÿåˆ°destinationä¸­ã€‚ 12#ä»l1çš„å³è¾¹å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶ä»å·¦è¾¹å…¥é˜Ÿåˆ°l2ä¸­å»RPOPLPUSH l1 l2 RPUSH key value [value...]: å°†å…ƒç´ ä»é˜Ÿåˆ—çš„å³è¾¹å…¥é˜Ÿã€‚ 12#å°†å…ƒç´ helloä»é˜Ÿåˆ—l1çš„å³è¾¹å…¥é˜ŸRPUSH l1 hello RPUSHX key value: å¦‚æœé˜Ÿåˆ—å­˜åœ¨æ—¶ï¼Œä»è¯¥é˜Ÿåˆ—çš„å³è¾¹å…¥é˜Ÿå…ƒç´  12#å¦‚æœé˜Ÿåˆ—l1å­˜åœ¨ï¼Œåˆ™ä»l1çš„å³è¾¹å…¥é˜Ÿå…ƒç´ helloRPUSHX l1 hello å‚è€ƒèµ„æ–™Rediså®˜æ–¹èµ„æ–™","categories":[{"name":"2017","slug":"2017","permalink":"http://www.shifeiqi.top/categories/2017/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://www.shifeiqi.top/tags/Redis/"},{"name":"Jedis","slug":"Jedis","permalink":"http://www.shifeiqi.top/tags/Jedis/"},{"name":"NoSql","slug":"NoSql","permalink":"http://www.shifeiqi.top/tags/NoSql/"},{"name":"å†…å­˜æ•°æ®åº“","slug":"å†…å­˜æ•°æ®åº“","permalink":"http://www.shifeiqi.top/tags/å†…å­˜æ•°æ®åº“/"},{"name":"Key-Value","slug":"Key-Value","permalink":"http://www.shifeiqi.top/tags/Key-Value/"},{"name":"Command","slug":"Command","permalink":"http://www.shifeiqi.top/tags/Command/"}]},{"title":"Redis and Jedisï¼ˆkeyç”Ÿå­˜æ—¶é—´ç®¡ç†-Javaï¼‰","slug":"2017-09-29-Redis and Jedisï¼ˆkeyç”Ÿå­˜æ—¶é—´ç®¡ç†-Javaï¼‰","date":"2017-09-30T08:47:15.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2017/09/30/2017-09-29-Redis and Jedisï¼ˆkeyç”Ÿå­˜æ—¶é—´ç®¡ç†-Javaï¼‰/","link":"","permalink":"http://www.shifeiqi.top/2017/09/30/2017-09-29-Redis and Jedisï¼ˆkeyç”Ÿå­˜æ—¶é—´ç®¡ç†-Javaï¼‰/","excerpt":"","text":"APIä»‹ç»ä¸Rediså®¢æˆ·ç«¯Commandå‘å¯¹åº”ï¼ŒJediså…³äºkeyç”Ÿå­˜æ—¶é—´ç®¡ç†çš„APIæœ‰ä¸‹é¢å‡ ä¸ªï¼š Jedis.expire(key, seconds)ï¼šè®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚ Jedis.pexpire(key, milliseconds)ï¼šè®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚ Jedis.expireAt(key, unixTime)ï¼šè®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œæ—¶é—´å‚æ•°ä¸ºUnixæ—¶é—´æˆ³ï¼ˆä»1970å¹´1æœˆ1æ—¥å¼€å§‹ç»è¿‡çš„ç§’æ•°ï¼‰ã€‚ Jedis.pexpireAt(key, millisecondsTimestamp):è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œæ—¶é—´å‚æ•°ä¸ºUnixæ—¶é—´æˆ³ï¼Œä»¥æ¯«ç§’è®¡ã€‚ Jedis.ttl(key): è¿”å›keyçš„å‰©ä½™è¿‡æœŸæ—¶é—´ã€‚ Jedis.pttl(key): è¿”å›keyçš„å‰©ä½™è¿‡æœŸæ—¶é—´ï¼Œä»¥æ¯«ç§’è®¡ã€‚ Jedis.persist(key)ï¼šç§»é™¤keyçš„è¿‡æœŸæ—¶é—´ã€‚ APIä½¿ç”¨ è®¾ç½®appleKeyçš„è¿‡æœŸæ—¶é—´ä¸º60sã€‚ 12345678// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// è®¾ç½®appleKeyçš„è¿‡æœŸæ—¶é—´ä¸º60sï¼Œä»¥ç§’çš„æ–¹å¼jedis.expire(\"appleKey\", 60);// è®¾ç½®appleKeyçš„è¿‡æœŸæ—¶é—´ä¸º60s,ä»¥æ¯«ç§’çš„æ–¹å¼jedis.pexpire(\"appleKey\", 60000); è¿”å›appleKeyçš„å‰©ä½™æ—¶é—´ 12345678// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// è¿”å›appleKeyçš„å‰©ä½™æ—¶é—´ï¼Œä»¥ç§’çš„æ–¹å¼long time = jedis.ttl(\"appleKey\");// è¿”å›appleKeyçš„å‰©ä½™æ—¶é—´ï¼Œä»¥æ¯«ç§’çš„æ–¹å¼long milliTime = jedis.pttl(\"appleKey\"); ç§»é™¤appleKeyçš„è¿‡æœŸæ—¶é—´ï¼ˆä½¿appleKeyæ°¸ä¹…å­˜åœ¨ï¼‰ 123456// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// ç§»é™¤appleKeyçš„è¿‡æœŸæ—¶é—´jedis.persist(\"appleKey\"); å‚è€ƒèµ„æ–™Jediså®˜æ–¹æ–‡æ¡£","categories":[{"name":"2017","slug":"2017","permalink":"http://www.shifeiqi.top/categories/2017/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"Redis","slug":"Redis","permalink":"http://www.shifeiqi.top/tags/Redis/"},{"name":"Jedis","slug":"Jedis","permalink":"http://www.shifeiqi.top/tags/Jedis/"},{"name":"NoSql","slug":"NoSql","permalink":"http://www.shifeiqi.top/tags/NoSql/"},{"name":"å†…å­˜æ•°æ®åº“","slug":"å†…å­˜æ•°æ®åº“","permalink":"http://www.shifeiqi.top/tags/å†…å­˜æ•°æ®åº“/"},{"name":"Key-Value","slug":"Key-Value","permalink":"http://www.shifeiqi.top/tags/Key-Value/"}]},{"title":"Redis and Jedisï¼ˆkeyç”Ÿå­˜æ—¶é—´ç®¡ç†-Commandï¼‰","slug":"2017-09-29-Redis and Jedisï¼ˆkeyç”Ÿå­˜æ—¶é—´ç®¡ç†-Commandï¼‰","date":"2017-09-30T06:29:12.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2017/09/30/2017-09-29-Redis and Jedisï¼ˆkeyç”Ÿå­˜æ—¶é—´ç®¡ç†-Commandï¼‰/","link":"","permalink":"http://www.shifeiqi.top/2017/09/30/2017-09-29-Redis and Jedisï¼ˆkeyç”Ÿå­˜æ—¶é—´ç®¡ç†-Commandï¼‰/","excerpt":"","text":"Command ä»‹ç»åœ¨Redisä¸­çš„keyæ˜¯å…·å¤‡ç”Ÿå­˜æ—¶é—´çš„ï¼Œä¸€èˆ¬ä¸€ä¸ªkeyçš„é»˜è®¤ç”Ÿå­˜æ—¶é—´æ˜¯æ°¸ä¹…å­˜åœ¨çš„ï¼ˆä½ è¦æ˜¯ä¸å¼€å¿ƒåˆ æ‰å®ƒé‚£å°±å¦è¯´äº†ã€‚ã€‚ã€‚ï¼‰ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥å¯¹keyçš„ç”Ÿå­˜æ—¶é—´è¿›è¡Œè®¾ç½®ã€‚ä¸keyçš„ç”Ÿå­˜æ—¶é—´ç›¸å…³çš„Commandæœ‰å¦‚ä¸‹å‡ ä¸ªï¼š EXPIRE key secondsï¼šè®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚ PEXPIRE key millisecondsï¼šè®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚ EXPIREAT key timestampï¼šè®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œæ—¶é—´å‚æ•°ä¸ºUnixæ—¶é—´æˆ³ï¼ˆä»1970å¹´1æœˆ1æ—¥å¼€å§‹ç»è¿‡çš„ç§’æ•°ï¼‰ã€‚ PEXPIREAT key millisecondes-timestamp:è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œæ—¶é—´å‚æ•°ä¸ºUnixæ—¶é—´æˆ³ï¼Œä»¥æ¯«ç§’è®¡ã€‚ TTL key: è¿”å›keyçš„å‰©ä½™è¿‡æœŸæ—¶é—´ã€‚ PTTL key: è¿”å›keyçš„å‰©ä½™è¿‡æœŸæ—¶é—´ï¼Œä»¥æ¯«ç§’è®¡ã€‚ PERSIST keyï¼šç§»é™¤keyçš„è¿‡æœŸæ—¶é—´ã€‚ Commandä½¿ç”¨ è®¾ç½®appleKeyçš„è¿‡æœŸæ—¶é—´ä¸º60sã€‚ 12EXPIRE appleKey 60 #ä»¥ç§’çš„æ–¹å¼PEXPIRE appleKey 60000 #ä»¥æ¯«ç§’çš„æ–¹å¼ è¿”å›appleKeyçš„å‰©ä½™è¿‡æœŸæ—¶é—´ 12TTL appleKey #ä»¥ç§’çš„æ–¹å¼PTTL appleKey #ä»¥æ¯«ç§’çš„æ–¹å¼ ç§»é™¤appleKeyçš„è¿‡æœŸæ—¶é—´ï¼ˆä½¿appleKeyæ°¸ä¹…å­˜åœ¨ï¼‰ 1PERSIST appleKey #ç§»é™¤appleKeyçš„è¿‡æœŸæ—¶é—´ å‚è€ƒèµ„æ–™Rediså®˜æ–¹èµ„æ–™","categories":[{"name":"2017","slug":"2017","permalink":"http://www.shifeiqi.top/categories/2017/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://www.shifeiqi.top/tags/Redis/"},{"name":"Jedis","slug":"Jedis","permalink":"http://www.shifeiqi.top/tags/Jedis/"},{"name":"NoSql","slug":"NoSql","permalink":"http://www.shifeiqi.top/tags/NoSql/"},{"name":"å†…å­˜æ•°æ®åº“","slug":"å†…å­˜æ•°æ®åº“","permalink":"http://www.shifeiqi.top/tags/å†…å­˜æ•°æ®åº“/"},{"name":"Key-Value","slug":"Key-Value","permalink":"http://www.shifeiqi.top/tags/Key-Value/"},{"name":"Command","slug":"Command","permalink":"http://www.shifeiqi.top/tags/Command/"}]},{"title":"Redis and Jedisï¼ˆäº‹åŠ¡ç®¡ç†-Javaï¼‰","slug":"2017-09-29-Redis and Jedisï¼ˆäº‹åŠ¡ç®¡ç†-Javaï¼‰","date":"2017-09-29T10:20:32.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2017/09/29/2017-09-29-Redis and Jedisï¼ˆäº‹åŠ¡ç®¡ç†-Javaï¼‰/","link":"","permalink":"http://www.shifeiqi.top/2017/09/29/2017-09-29-Redis and Jedisï¼ˆäº‹åŠ¡ç®¡ç†-Javaï¼‰/","excerpt":"","text":"API ä»‹ç»Jedisä¸­ä¸Redisäº‹åŠ¡ç›¸å…³ä¸€å…±æœ‰ä¸¤ä¸ªç±»:Jediså’ŒTransactionï¼Œç›¸å…³APIå¦‚ä¸‹ï¼š Jedis.multi()ï¼šæ ‡å¿—ç€äº‹åŠ¡çš„å¼€å§‹ï¼Œä»Jedis.multiå¼€å§‹åˆ°Transaction.exec()ï¼ˆæˆ–è€…Transaction.discard()ï¼‰ä¹‹é—´çš„ä»£ç ä¼šè¢«RedisæœåŠ¡å™¨ä½œä¸ºåŸå­æ“ä½œæ‰§è¡Œã€‚è¿”å›å€¼ä¸ºOKã€‚ Transaction.exec()ï¼šäº‹åŠ¡æäº¤æ‰§è¡Œï¼Œå’ŒJedis.multi()æˆå¯¹å‡ºç°ã€‚ Transaction.discard()ï¼šäº‹åŠ¡å›æ»šï¼Œå’ŒJedis.multi()æˆå¯¹å‡ºç°ã€‚è¿”å›å€¼ä¸ºOKã€‚ Jedis.watch(String...keys)ï¼šç›‘è§†ä¸€ä¸ªï¼ˆå¤šä¸ªï¼‰keyï¼Œä»Jedis.watch(String...keys)æ‰§è¡Œç»“æŸåˆ°MULTIå‘½ä»¤æ‰§è¡Œå¼€å§‹çš„æ—¶é—´æ®µä¸­ï¼Œå¦‚æœè¿™äº›keyè¢«å…¶ä»–å®¢æˆ·ç«¯æ”¹åŠ¨ï¼Œäº‹åŠ¡å°†è¢«æ‰“æ–­ä»¥è‡´æ‰§è¡Œå¤±è´¥ã€‚ Jedis.unwatch()ï¼šå–æ¶ˆJedis.watch(String...keys)æ‰€æ ‡å¿—çš„æ‰€æœ‰çš„keyçš„ç›‘è§†ã€‚ APIä½¿ç”¨ äº‹åŠ¡æäº¤ 12345678910// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// å¼€å¯äº‹åŠ¡Transaction transaction = jedis.multi();// æ“ä½œRedistransaction.set(\"appleKey\", \"appleValue\");// æäº¤äº‹åŠ¡transaction.exec(); äº‹åŠ¡å›æ»š 12345678910// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// å¼€å¯äº‹åŠ¡Transaction transaction = jedis.multi();// æ“ä½œRedistransaction.set(\"appleKey\", \"appleValue\");// å›æ»šäº‹åŠ¡transaction.discard(); ç›‘è§†keys 12345678910111213// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// ç›‘å¬keysï¼Œä»jedis.watch()å¼€å§‹åˆ°transaction.multi()æ‰§è¡Œçš„è¿™æ®µæ—¶é—´ï¼Œ// å¦‚æœæœ‰å…¶ä»–å®¢æˆ·ç«¯å¯¹appleKeyè¿›è¡Œæ“ä½œï¼Œåˆ™è¯¥äº‹åŠ¡ä¼šè¢«æ‰“æ–­jedis.watch(\"appleKey\");// å¼€å¯äº‹åŠ¡Transaction transaction = jedis.multi();// æ“ä½œRedistransaction.set(\"appleKey\", \"appleValue\");// å›æ»šäº‹åŠ¡transaction.exec(); å–æ¶ˆkeysç›‘è§† 123456789101112131415// åˆ›å»ºRediså®¢æˆ·ç«¯å®ä¾‹Jedis jedis = new Jedis(\"10.1.10.53\", 6379);// æˆæƒjedis.auth(\"redis\");// ç›‘å¬keysjedis.watch(\"appleKey\",\"androidKey\");// å–æ¶ˆç›‘è§†keys,ä»å½“å‰æ—¶é—´å¼€å§‹åˆ° jedis.multi() è¢«æ‰§è¡Œçš„æ—¶é—´æ®µä¸­ï¼Œ// å…¶ä»–å®¢æˆ·ç«¯å¯¹appleKeyæˆ–è€…androidKeyçš„æ“ä½œå°†ä¸ä¼šå½±å“è¯¥äº‹åŠ¡çš„æ‰§è¡Œã€‚jedis.unwatch();// å¼€å¯äº‹åŠ¡Transaction transaction = jedis.multi();// æ“ä½œRedistransaction.set(\"appleKey\", \"appleValue\");// å›æ»šäº‹åŠ¡transaction.exec(); å‚è€ƒæ–‡çŒ®Jediså®˜æ–¹æ–‡æ¡£","categories":[{"name":"2017","slug":"2017","permalink":"http://www.shifeiqi.top/categories/2017/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"Redis","slug":"Redis","permalink":"http://www.shifeiqi.top/tags/Redis/"},{"name":"Jedis","slug":"Jedis","permalink":"http://www.shifeiqi.top/tags/Jedis/"},{"name":"NoSql","slug":"NoSql","permalink":"http://www.shifeiqi.top/tags/NoSql/"},{"name":"å†…å­˜æ•°æ®åº“","slug":"å†…å­˜æ•°æ®åº“","permalink":"http://www.shifeiqi.top/tags/å†…å­˜æ•°æ®åº“/"},{"name":"Key-Value","slug":"Key-Value","permalink":"http://www.shifeiqi.top/tags/Key-Value/"}]},{"title":"Redis and Jedisï¼ˆäº‹åŠ¡ç®¡ç†-Commandï¼‰","slug":"2017-09-29-Redis and Jedisï¼ˆäº‹åŠ¡ç®¡ç†-Commandï¼‰","date":"2017-09-29T08:27:30.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2017/09/29/2017-09-29-Redis and Jedisï¼ˆäº‹åŠ¡ç®¡ç†-Commandï¼‰/","link":"","permalink":"http://www.shifeiqi.top/2017/09/29/2017-09-29-Redis and Jedisï¼ˆäº‹åŠ¡ç®¡ç†-Commandï¼‰/","excerpt":"","text":"Commandä»‹ç»ä»å®˜æ–¹æ–‡æ¡£ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒRediså…³äºäº‹åŠ¡ç®¡ç†æ–¹é¢çš„å‘½ä»¤ä¸€å…±5ä¸ªï¼Œå„ä¸ªå‘½ä»¤åŠæ‰€ä»£è¡¨çš„å«ä¹‰å¦‚ä¸‹ï¼š MULTIï¼šæ ‡å¿—ç€äº‹åŠ¡çš„å¼€å§‹ï¼Œä»MULTIå¼€å§‹åˆ°EXECï¼ˆæˆ–è€…DISCARDï¼‰ä¹‹é—´çš„å‘½ä»¤ä¼šè¢«RedisæœåŠ¡å™¨ä½œä¸ºåŸå­æ“ä½œæ‰§è¡Œã€‚è¿”å›å€¼ä¸ºOKã€‚ EXEC: äº‹åŠ¡æäº¤æ‰§è¡Œï¼Œå’ŒMULTIæˆå¯¹å‡ºç°ã€‚ DISCARD: äº‹åŠ¡å›æ»šï¼Œå’ŒMULTIæˆå¯¹å‡ºç°ã€‚è¿”å›å€¼ä¸ºOKã€‚ WATCH key[key...]:ç›‘è§†ä¸€ä¸ªï¼ˆå¤šä¸ªï¼‰keyï¼Œä»WATCHå‘½ä»¤æ‰§è¡Œç»“æŸåˆ°MULTIå‘½ä»¤æ‰§è¡Œå¼€å§‹çš„æ—¶é—´æ®µä¸­ï¼Œå¦‚æœè¿™äº›keyè¢«å…¶ä»–å®¢æˆ·ç«¯æ”¹åŠ¨ï¼Œäº‹åŠ¡å°†è¢«æ‰“æ–­ä»¥è‡´æ‰§è¡Œå¤±è´¥ã€‚ UNWATCH: å–æ¶ˆWATCHæ‰€æ ‡å¿—çš„æ‰€æœ‰çš„keyçš„ç›‘è§†ã€‚ Commandæ“ä½œ äº‹åŠ¡æäº¤ 123MULTI #å¼€å¯äº‹åŠ¡SET KEY \"VALUE\"#æ“ä½œRedisEXEC #æäº¤äº‹åŠ¡ äº‹åŠ¡å›æ»š 123MULTI #å¼€å¯äº‹åŠ¡SET KEY \"VALUE\"#æ“ä½œRedisDISCARD #å›æ»šäº‹åŠ¡ ç›‘è§†keys 123456WATCH appleKey #ç›‘è§†ä¸€ä¸ªåä¸ºappleKeyçš„key#ä»å½“å‰æ—¶é—´å¼€å§‹åˆ° MULTI å‘½ä»¤è¢«æ‰§è¡Œçš„æ—¶é—´é‡Œå¦‚æœæœ‰å…¶ä»–çš„å®¢æˆ·ç«¯å¯¹appleKeyè¿›è¡Œä¿®æ”¹ï¼Œåˆ™ä¸‹é¢çš„äº‹åŠ¡å°†ä¼šè¢«æ‰“æ–­#MULTI #å¼€å¯äº‹åŠ¡SET appleKey \"VALUE\"#æ“ä½œRedisEXEC #æäº¤äº‹åŠ¡ï¼Œå¦‚æœäº‹åŠ¡è¢«æ‰“æ–­å°†è¿”å› nil å–æ¶ˆkeysç›‘è§† 1234567WATCH appleKey androidKey #ç›‘è§†ä¸€ä¸ªåä¸ºappleKeyçš„keyUNWATCH #å–æ¶ˆå¯¹appleKeyå’ŒandroidKeyçš„ç›‘è§†#ä»å½“å‰æ—¶é—´å¼€å§‹åˆ° MULTI å‘½ä»¤è¢«æ‰§è¡Œçš„æ—¶é—´æ®µä¸­ï¼Œå…¶ä»–å®¢æˆ·ç«¯å¯¹appleKeyæˆ–è€…androidKeyçš„æ“ä½œå°†ä¸ä¼šå½±å“äº‹åŠ¡çš„æ‰§è¡Œ#MULTI #å¼€å¯äº‹åŠ¡SET appleKey \"VALUE\"#æ“ä½œRedisEXEC #æäº¤äº‹åŠ¡ å‚è€ƒæ–‡çŒ®Rediså®˜æ–¹æ–‡æ¡£","categories":[{"name":"2017","slug":"2017","permalink":"http://www.shifeiqi.top/categories/2017/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://www.shifeiqi.top/tags/Redis/"},{"name":"Jedis","slug":"Jedis","permalink":"http://www.shifeiqi.top/tags/Jedis/"},{"name":"NoSql","slug":"NoSql","permalink":"http://www.shifeiqi.top/tags/NoSql/"},{"name":"å†…å­˜æ•°æ®åº“","slug":"å†…å­˜æ•°æ®åº“","permalink":"http://www.shifeiqi.top/tags/å†…å­˜æ•°æ®åº“/"},{"name":"Key-Value","slug":"Key-Value","permalink":"http://www.shifeiqi.top/tags/Key-Value/"},{"name":"Command","slug":"Command","permalink":"http://www.shifeiqi.top/tags/Command/"}]},{"title":"è®°è‹±å‰§ã€Šé»‘é•œã€‹","slug":"2017-09-10-è®°è‹±å‰§ã€Šé»‘é•œã€‹","date":"2017-09-10T12:14:00.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2017/09/10/2017-09-10-è®°è‹±å‰§ã€Šé»‘é•œã€‹/","link":"","permalink":"http://www.shifeiqi.top/2017/09/10/2017-09-10-è®°è‹±å‰§ã€Šé»‘é•œã€‹/","excerpt":"","text":"æŒ‰ç…§ä¸€è´¯çš„æ€ç»´ï¼Œçœ‹å®Œä¸€éƒ¨ç”µè§†å‰§æˆ–è€…æ˜¯ä¸€æœ¬ä¹¦ï¼Œåº”å½“å†™ä¸€ç‚¹è§‚åæ„Ÿè¯»åæ„Ÿä¹‹ç±»çš„ï¼Œä½†æ˜¯æˆ‘å¹¶ä¸æƒ³å†™ã€‚æˆ‘åªæ˜¯æƒ³è¯´ï¼Œä»Šå¤©æˆ‘çœ‹å®Œäº†ã€Šé»‘é•œã€‹çš„ç¬¬ä¸€å­£ï¼Œç»™æˆ‘çš„æ„Ÿè§‰ç¬¦åˆæˆ‘çš„é¢„æœŸã€‚ç®—äº†ï¼Œæ”¾ä¸€å¼ ç›—æ¥çš„æµ·æŠ¥è®°å½•ä¸€ä¸‹å§ã€‚ é»‘é•œ ç¬¬ä¸€å­£","categories":[{"name":"2017","slug":"2017","permalink":"http://www.shifeiqi.top/categories/2017/"}],"tags":[{"name":"è‹±å‰§","slug":"è‹±å‰§","permalink":"http://www.shifeiqi.top/tags/è‹±å‰§/"},{"name":"é»‘é•œ","slug":"é»‘é•œ","permalink":"http://www.shifeiqi.top/tags/é»‘é•œ/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://www.shifeiqi.top/tags/æ—¥è®°/"}]},{"title":"JAVAå¯¹è±¡åºåˆ—åŒ–ä¹‹BYTEæµ","slug":"2017-08-29-JAVAå¯¹è±¡åºåˆ—åŒ–ä¹‹BYTEæµ","date":"2017-08-27T05:25:00.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2017/08/27/2017-08-29-JAVAå¯¹è±¡åºåˆ—åŒ–ä¹‹BYTEæµ/","link":"","permalink":"http://www.shifeiqi.top/2017/08/27/2017-08-29-JAVAå¯¹è±¡åºåˆ—åŒ–ä¹‹BYTEæµ/","excerpt":"","text":"å†™åœ¨å‰é¢æœ€è¿‘é¡¹ç›®ä¸Šæœ‰ä¸€ä¸ªéœ€æ±‚éœ€è¦å¤§é‡çš„å°†Javaå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–å¹¶ä¸”è¿›è¡Œè¿˜åŸï¼Œæœ¬æ–‡å°†ä»‹ç»å¦‚ä½•å°†Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºByteã€‚ æ„é€ å¯åºåˆ—åŒ–å¯¹è±¡ä¸€ä¸ªJavaå¯¹è±¡å¯åºåˆ—åŒ–çš„å‰ææ˜¯è¿™ä¸ªå¯¹è±¡å¯åºåˆ—åŒ–ï¼ˆğŸ˜°ã€‚ã€‚ã€‚ï¼‰ï¼Œå…·ä½“æ¥è®²å°±æ˜¯ç»™è¿™ä¸ªJavaå¯¹è±¡æ‰“ä¸Šå¯åºåˆ—åŒ–çš„æ ‡å¿—ã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯å®ç°æ¥å£ Serializable ,å¦‚ä¸‹é¢çš„ä»£ç ï¼Œå®šä¹‰ä¸€ä¸ªå¯åºåˆ—åŒ–çš„ Apple ç±»ã€‚1234567891011121314151617181920public class Apple implements Serializable&#123; private static final long serialVersionUID = 1L; private String name; private Color color; private double weight; public Apple(String name, Color color, double weight) &#123; super(); this.name = name; this.color = color; this.weight = weight; &#125; @Override public String toString() &#123; return \"Apple [name=\" + name + \", color=\" + color + \", weight=\" + weight + \"]\"; &#125;&#125; å…¶ä¸­ï¼š Serializable æ¥å£æ˜¯ä¸€ä¸ªç©ºæ¥å£ï¼Œä¸éœ€è¦å®ç°ä»»ä½•çš„æ–¹æ³•ã€‚å…¶å®šä¹‰å¦‚ä¸‹: 12public interface Serializable &#123;&#125; é™æ€å¸¸é‡ serialVersionUID ç”¨æ¥éªŒè¯ç‰ˆæœ¬çš„ä¸€è‡´æ€§ã€‚å½“å¯¹ Byte æµè¿›è¡Œååºåˆ—åŒ–æ—¶ï¼ŒJavaè™šæ‹Ÿæœºä¼šæ¯”å¯¹Byteæµä¸­çš„ serialVersionUID æ˜¯å¦å’Œæœ¬åœ°ç›¸åº”çš„å®ä½“ç±»ä¸­çš„ serialVersionUIDï¼Œå¦‚æœä¸ä¸€è‡´åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ å¯åºåˆ—åŒ–Javaå¯¹è±¡çš„æˆå‘˜ä¹Ÿå¿…é¡»æ˜¯å¯åºåˆ—åŒ–çš„ã€‚ åºåˆ—åŒ–Javaå¯¹è±¡å°†Javaå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š12345678910private static byte[] object2Byte(Object object) throws IOException &#123; ByteArrayOutputStream bos = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(bos); oos.writeObject(object); byte[] bytes = bos.toByteArray(); oos.close(); bos.close(); return bytes;&#125; å…¶ä¸­ï¼š ByteArrayOutputStream ç”¨äºå°†æ•°æ®è½¬åŒ–ä¸ºå­—èŠ‚æ•°ç»„ã€‚ ObjectOutputStream ç”¨äºå°†Javaå¯¹è±¡å†™å…¥è¾“å‡ºæµã€‚ ååºåˆ—åŒ–Javaå¯¹è±¡å°†å­—èŠ‚æµååºåˆ—çš„ä»£ç å¦‚ä¸‹ï¼š12345678910private static Object byte2Object(byte[] bytes) throws ClassNotFoundException, IOException &#123; ByteArrayInputStream bis = new ByteArrayInputStream(bytes); ObjectInputStream ois = new ObjectInputStream(bis); Object object = ois.readObject(); ois.close(); bis.close(); return object;&#125; å…¶ä¸­ï¼š ByteArrayInputStream ç”¨äºå°†å­—èŠ‚æ•°ç»„è¯»å…¥è¾“å…¥æµã€‚ ObjectInputStream ç”¨äºå°†Javaå¯¹è±¡ä»è¾“å…¥æµä¸­è¯»å‡ºã€‚","categories":[{"name":"2017","slug":"2017","permalink":"http://www.shifeiqi.top/categories/2017/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"å¯¹è±¡","slug":"å¯¹è±¡","permalink":"http://www.shifeiqi.top/tags/å¯¹è±¡/"},{"name":"åºåˆ—åŒ–","slug":"åºåˆ—åŒ–","permalink":"http://www.shifeiqi.top/tags/åºåˆ—åŒ–/"},{"name":"BYTE","slug":"BYTE","permalink":"http://www.shifeiqi.top/tags/BYTE/"}]},{"title":"CORS æµè§ˆå™¨è·¨åŸŸè¯·æ±‚","slug":"2017-08-26-CORS æµè§ˆå™¨è·¨åŸŸè¯·æ±‚","date":"2017-08-26T06:34:10.000Z","updated":"2019-03-01T14:07:05.986Z","comments":true,"path":"2017/08/26/2017-08-26-CORS æµè§ˆå™¨è·¨åŸŸè¯·æ±‚/","link":"","permalink":"http://www.shifeiqi.top/2017/08/26/2017-08-26-CORS æµè§ˆå™¨è·¨åŸŸè¯·æ±‚/","excerpt":"","text":"å†™åœ¨å‰é¢æœ¬æ–‡ä¸å¯¹CORSåŸç†åšè§£é‡Šï¼Œåªé€šè¿‡ä¸€ä¸ªå°å°çš„demoæ¥ä»‹ç»å¦‚ä½•ä½¿ç”¨CORSæ¥è¿›è¡Œè·¨åŸŸè¯·æ±‚ã€‚ æµè§ˆå™¨ç›®å‰å¸‚é¢ä¸Šçš„æµè§ˆå™¨éƒ½æ”¯æŒCORSï¼Œå› æ­¤ï¼Œåªéœ€ä½¿ç”¨jsä»£ç æ­£å¸¸å‘é€ç½‘ç»œè¯·æ±‚å³å¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘æƒ³è¯·æ±‚ 10.1.10.53 è¿™ä¸ªä¸»æœºä¸­çš„èµ„æº app1/servlet , javascript ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š12345678910111213&lt;script type=\"text/javascript\"&gt; function request() &#123; var url = 'http://10.1.10.53:8080/app1/servlet'; xmlhttp = new XMLHttpRequest(); // å…è®¸æµè§ˆå™¨å‘é€cookie /* xmlhttp.withCredentials = true; */ xmlhttp.open(\"GET\", url, false); xmlhttp.send(); xmlDoc = xmlhttp.responseXML; console.log(xmlDoc); &#125; request();&lt;/script&gt; å½“ç„¶ï¼Œå¦‚æœä½ æƒ³é€šè¿‡jqueryæ¥è¿›è¡Œajaxè¯·æ±‚ï¼Œä»£ç å°±åº”è¯¥åƒä¸‹é¢è¿™æ ·ï¼š1234567891011121314151617&lt;script type=\"text/javascript\"&gt; function ajaxRequest() &#123; $.ajax(&#123; url : \"http://10.1.10.53:8080/app1/servlet\", success : function(data, textStatus, jqXHR) &#123; console.log(data); &#125;, error : function(XMLHttpRequest, textStatus, errorThrown) &#123; if (XMLHttpRequest.status &amp;&amp; XMLHttpRequest.status == 404) &#123; Exception.showException(XMLHttpRequest.responseText); &#125; throw new Error(genErrorMsg(XMLHttpRequest, requestUrl)); &#125; &#125;); &#125; ajaxRequest();&lt;/script&gt; æœåŠ¡å™¨è‹¥æƒ³ä½¿ç”¨CORSè¿›è¡Œè·¨åŸŸè¯·æ±‚ï¼ŒæœåŠ¡å™¨è¦æä¾›ä¸€å®šçš„æ”¯æŒã€‚å³åªéœ€è¦åœ¨è¿”å›å¤´ä¸­æ·»åŠ å­—æ®µ Access-Control-Allow-Origin å³å¯ï¼Œå› æ­¤ä½ çš„æœåŠ¡å™¨ç«¯ servlet ä»£ç åº”è¯¥å½¢ä¼¼ä¸‹é¢è¿™æ ·ï¼š123456789// è®¾ç½®è·¨åŸŸè¯·æ±‚å¤´response.addHeader(\"Access-Control-Allow-Origin\", \"*\");// è¿”å›æ–‡æœ¬æ•°æ®response.setContentType(\"text/xml;charset=UTF-8\");// å†™å…¥å†…å®¹åˆ°å®¢æˆ·ç«¯ServletOutputStream outputStream = response.getOutputStream();outputStream.write(\"&lt;app1&gt;&lt;/app1&gt;\".getBytes(\"utf-8\"));outputStream.flush();outputStream.close(); æ³¨æ„ï¼Œä½¿ç”¨å­—æ®µ Access-Control-Allow-Origin åº”æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š è¿™ä¸ªå­—æ®µçš„å€¼è¡¨ç¤ºæ‰€æ¥å—çš„è¯·æ±‚çš„åŸŸï¼Œå½¢å¦‚ http://ip:port ã€‚ è‹¥è¯¥å­—æ®µçš„å€¼ä¸º * ï¼Œåˆ™è¡¨ç¤ºæœåŠ¡å™¨æ¥æ”¶æ‰€æœ‰çš„åŸŸè¯·æ±‚ã€‚è¿™æ ·æ˜¯å¾ˆå±é™©çš„ï¼Œä¸€èˆ¬æˆ‘ä»¬å°†è¿™ä¸ªå€¼è®¾ç½®ä¸ºæŒ‡å®šçš„ã€ç¬¦åˆæˆ‘ä»¬è¦æ±‚çš„åŸŸã€‚ æ€»ç»“ä½¿ç”¨CORSå¾ˆç®€å•ï¼Œæ€»ç»“èµ·æ¥å°±ä¸¤å¥è¯è€Œå·²ï¼šå®¢æˆ·ç«¯ä»£ç æ­£å¸¸è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ·»åŠ è¿”å›å¤´ Access-Control-Allow-Originã€‚ å‚è€ƒè·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£","categories":[{"name":"2017","slug":"2017","permalink":"http://www.shifeiqi.top/categories/2017/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.shifeiqi.top/tags/JAVA/"},{"name":"CROS","slug":"CROS","permalink":"http://www.shifeiqi.top/tags/CROS/"},{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","permalink":"http://www.shifeiqi.top/tags/æµè§ˆå™¨/"},{"name":"è·¨åŸŸ","slug":"è·¨åŸŸ","permalink":"http://www.shifeiqi.top/tags/è·¨åŸŸ/"}]}]}